<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="description" content="Overview of openEHR CDS, Guidelines and Planning specifications.">
<meta name="keywords" content="process, guidelines, GDL, planning, CDS, workflow, CPG">
<title>CDS, Guidelines and Planning Overview</title>
<link rel="stylesheet" href="https://specifications.openehr.org/styles/openehr.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#_cds_guidelines_and_planning_overview">CDS, Guidelines and Planning Overview</a>
<ul class="sectlevel1">
<li><a href="#_amendment_record">Amendment Record</a></li>
<li><a href="#_acknowledgements">Acknowledgements</a>
<ul class="sectlevel2">
<li><a href="#_primary_authors">Primary Authors</a></li>
<li><a href="#_contributors">Contributors</a></li>
<li><a href="#_support">Support</a></li>
</ul>
</li>
<li><a href="#_preface">1. Preface</a>
<ul class="sectlevel2">
<li><a href="#_purpose">1.1. Purpose</a></li>
<li><a href="#_related_documents">1.2. Related Documents</a></li>
<li><a href="#_status">1.3. Status</a></li>
<li><a href="#_feedback">1.4. Feedback</a></li>
</ul>
</li>
<li><a href="#_introduction">2. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_openehr_process_and_planning_specifications">2.1. openEHR Process and Planning Specifications</a></li>
<li><a href="#_prior_art">2.2. Prior Art</a></li>
<li><a href="#_relationship_to_standards">2.3. Relationship to Standards</a></li>
<li><a href="#_theoretical_references">2.4. Theoretical References</a></li>
</ul>
</li>
<li><a href="#_needs">3. Needs</a>
<ul class="sectlevel2">
<li><a href="#_how_can_it_improve_clinical_care_process">3.1. How Can IT Improve Clinical Care Process?</a></li>
<li><a href="#_implementing_best_practices">3.2. Implementing Best Practices</a></li>
<li><a href="#_guideline_and_pathway_authoring_in_computable_form">3.3. Guideline and Pathway Authoring in Computable Form</a></li>
<li><a href="#_simulation_and_training">3.4. Simulation and Training</a></li>
<li><a href="#_long_running_processes">3.5. Long-running Processes</a></li>
<li><a href="#_cognitive_model">3.6. Cognitive Model</a>
<ul class="sectlevel3">
<li><a href="#_the_co_pilot_paradigm">3.6.1. The Co-pilot Paradigm</a></li>
<li><a href="#_voice_based_hcis">3.6.2. Voice-based HCIs</a></li>
</ul>
</li>
<li><a href="#_activation_of_plans_guidelines_and_decision_support">3.7. Activation of Plans, Guidelines and Decision Support</a></li>
<li><a href="#_integration_with_the_patient_health_record">3.8. Integration with the Patient Health Record</a></li>
<li><a href="#_independence_of_reusable_guidelines_from_legacy_his_environments">3.9. Independence of Reusable Guidelines from Legacy HIS Environments</a></li>
</ul>
</li>
<li><a href="#_care_process_artefacts">4. Care Process Artefacts and their Formalisation</a>
<ul class="sectlevel2">
<li><a href="#_best_practice_artefacts">4.1. Best Practice Artefacts</a>
<ul class="sectlevel3">
<li><a href="#_clinical_practice_guidelines_cpgs">4.1.1. Clinical Practice Guidelines (CPGs)</a>
<ul class="sectlevel4">
<li><a href="#_score_based_decision_support_guidelines">4.1.1.1. Score-based Decision Support Guidelines</a></li>
</ul>
</li>
<li><a href="#_care_pathways">4.1.2. Care Pathways</a></li>
<li><a href="#_order_sets">4.1.3. Order Sets</a></li>
<li><a href="#_representation_challenges">4.1.4. Representation Challenges</a></li>
<li><a href="#_a_descriptive_model">4.1.5. A Descriptive Model</a></li>
</ul>
</li>
<li><a href="#_care_plans">4.2. Care Plans</a></li>
<li><a href="#_formalisation">4.3. Formalisation</a>
<ul class="sectlevel3">
<li><a href="#_conceptual_model_of_guidelines">4.3.1. Conceptual Model of Guidelines</a></li>
<li><a href="#_general_vision">4.3.2. General Vision</a></li>
<li><a href="#_separation_of_concerns">4.3.3. Separation of Concerns</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_deployment_paradigm">5. Deployment Paradigm</a>
<ul class="sectlevel2">
<li><a href="#_separation_of_worlds">5.1. Separation of Worlds</a></li>
<li><a href="#_distributed_plans">5.2. Distributed Plans</a></li>
</ul>
</li>
<li><a href="#_conceptual_architecture">6. Conceptual Architecture</a>
<ul class="sectlevel2">
<li><a href="#_overview">6.1. Overview</a></li>
<li><a href="#_plans">6.2. Plans</a></li>
<li><a href="#_decision_logic_modules_dlms">6.3. Decision Logic Modules (DLMs)</a></li>
<li><a href="#_subject_proxy">6.4. Subject Proxy</a></li>
<li><a href="#_subject_proxy_service">6.5. Subject Proxy Service</a>
<ul class="sectlevel3">
<li><a href="#_semantic_reframing_from_the_general_and_epistemic_to_the_ontic_and_use_specific">6.5.1. Semantic Reframing: from the General and Epistemic to the Ontic and Use-specific</a></li>
<li><a href="#_manually_reported_and_missing_data">6.5.2. Manually Reported and Missing Data</a></li>
<li><a href="#_type_conversion">6.5.3. Type Conversion</a></li>
<li><a href="#_the_temporal_dimension_currency">6.5.4. The Temporal Dimension: Currency</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_architectural_use_cases">7. Architectural Use-cases</a>
<ul class="sectlevel2">
<li><a href="#_plan_oriented_systems">7.1. Plan-oriented Systems</a></li>
<li><a href="#_guidelines_and_decision_support">7.2. Guidelines and Decision Support</a></li>
</ul>
</li>
<li><a href="#_references">References</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock text-center">
<div class="content">
<img src="https://specifications.openehr.org/images/openEHR_logo_RGB.svg" alt="openEHR logo">
</div>
</div>
</div>
</div>
<h1 id="_cds_guidelines_and_planning_overview" class="sect0"><a class="anchor" href="#_cds_guidelines_and_planning_overview"></a>CDS, Guidelines and Planning Overview</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all fit-content spread">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong>Issuer</strong>: <a href="https://www.openehr.org/programs/specification" target="_blank" rel="noopener">openEHR Specification Program</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Release</strong>: PROC latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Status</strong>: DEVELOPMENT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Revision</strong>: <a href="#latest_issue">[latest_issue]</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Date</strong>: <a href="#latest_issue_date">[latest_issue_date]</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Keywords</strong>: process, guidelines, GDL, planning, CDS, workflow, CPG</p></td>
</tr>
</tbody>
</table>
<div class="imageblock text-center">
<div class="content">
<object type="image/svg+xml" data="openehr_block_diagram.svg" width="60%"><span class="alt">openEHR components</span></object>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2">&#169; 2020 - 2021 The openEHR Foundation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><a href="https://www.openehr.org" target="_blank" rel="noopener">The openEHR Foundation</a> is an independent, non-profit foundation, facilitating the sharing of health records by consumers and clinicians via open specifications, clinical models and open platform implementations.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Licence</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="https://specifications.openehr.org/images/cc-by-nd-88x31.png" alt="image"></span> Creative Commons Attribution-NoDerivs 3.0 Unported. <a href="https://creativecommons.org/licenses/by-nd/3.0/" class="bare">https://creativecommons.org/licenses/by-nd/3.0/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Support</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Issues: <a href="https://specifications.openehr.org/components/PROC/open_issues" target="_blank" rel="noopener">Problem Reports</a><br>
 Web: <a href="https://specifications.openehr.org" target="_blank" rel="noopener">specifications.openEHR.org</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_amendment_record"><a class="anchor" href="#_amendment_record"></a>Amendment Record</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 54.5454%;">
<col style="width: 18.1818%;">
<col style="width: 18.1819%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Issue</th>
<th class="tableblock halign-left valign-top">Details</th>
<th class="tableblock halign-left valign-top">Raiser, Implementer</th>
<th class="tableblock halign-left valign-top">Completed</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>PROC Release 1.6.0 (unreleased)</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="latest_issue"></a>0.5.2</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://specifications.openehr.org/tickets/SPECPROC-45" target="_blank" rel="noopener">SPECPROC-45</a>. Add Process component Overview document.<br>
 Add conceptual CIG model; adjust nomenclature in artefacts diagram.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="latest_issue_date"></a>16 Mar 2021</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>GDL-oriented review.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 R Chen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">30 Jan 2021</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.5.1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Improvements due to reviews.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R Chen,<br>
 K Salzman,<br>
 K Lord</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">15 Dec 2020</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.5.0</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Initial writing.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">15 Dec 2020</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_acknowledgements"><a class="anchor" href="#_acknowledgements"></a>Acknowledgements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_primary_authors"><a class="anchor" href="#_primary_authors"></a>Primary Authors</h3>
<div class="ulist">
<ul>
<li>
<p>Thomas Beale, Ars Semantica, openEHR International Board, UK</p>
</li>
<li>
<p>Rong Chen MD, PhD, Cambio CDS, Sweden</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contributors"><a class="anchor" href="#_contributors"></a>Contributors</h3>
<div class="ulist">
<ul>
<li>
<p>Joost Holslag, MD, Nedap Healthcare &amp; University of Groningen, Netherlands</p>
</li>
<li>
<p>Ken Lord, Principal, MDIXinc, US</p>
</li>
<li>
<p>Keith Salzman MD, CMIO US Army (ret.)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_support"><a class="anchor" href="#_support"></a>Support</h3>
<div class="paragraph">
<p>The work reported in this specification has been funded by the following organisations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>City of Moscow</p>
</li>
<li>
<p>Better d.o.o., Slovenia</p>
</li>
<li>
<p>Ars Semantica, UK</p>
</li>
<li>
<p>Cambio CDS, Sweden</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_preface"><a class="anchor" href="#_preface"></a>1. Preface</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_purpose"><a class="anchor" href="#_purpose"></a>1.1. Purpose</h3>
<div class="paragraph">
<p>This document provides an overview of the openEHR PROC component specifications, including the openEHR Decision Logic Module (DLM) Language, <a href="https://specifications.openehr.org/releases/PROC/latest/task_planning.html" target="_blank" rel="noopener">openEHR Task Planning</a> and Subject Proxy service.</p>
</div>
<div class="paragraph">
<p>The intended audience includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Standards bodies producing health informatics standards;</p>
</li>
<li>
<p>Academic groups using openEHR;</p>
</li>
<li>
<p>Solution vendors.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_documents"><a class="anchor" href="#_related_documents"></a>1.2. Related Documents</h3>
<div class="paragraph">
<p>Prerequisite documents for reading this document include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="https://specifications.openehr.org/releases/BASE/latest/architecture_overview.html" target="_blank" rel="noopener">openEHR Architecture Overview</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Related documents include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="https://specifications.openehr.org/releases/PROC/latest/task_planning.html" target="_blank" rel="noopener">openEHR Task Planning specification</a>;</p>
</li>
<li>
<p>The <a href="https://specifications.openehr.org/releases/PROC/latest/decision_language.html" target="_blank" rel="noopener">openEHR Decision Language</a>;</p>
</li>
<li>
<p><a href="https://specifications.openehr.org/releases/PROC/latest/process_examples.html" target="_blank" rel="noopener">openEHR Process Examples</a>;</p>
</li>
<li>
<p>The <a href="https://specifications.openehr.org/releases/CDS/latest/GDL2.html" target="_blank" rel="noopener">Guideline Definition Language (GDL2)</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_status"><a class="anchor" href="#_status"></a>1.3. Status</h3>
<div class="paragraph">
<p>This document is in the DEVELOPMENT state. The development version of this document can be found at <a href="https://specifications.openehr.org/releases/PROC/latest/overview.html" target="_blank" rel="noopener">https://specifications.openehr.org/releases/PROC/latest/overview.html</a>.</p>
</div>
<div class="paragraph">
<p>Known omissions or questions are indicated in the text with a 'to be determined' paragraph, as follows:</p>
</div>
<div class="paragraph tbd">
<p><strong>TBD</strong>: (example To Be Determined paragraph)</p>
</div>
</div>
<div class="sect2">
<h3 id="_feedback"><a class="anchor" href="#_feedback"></a>1.4. Feedback</h3>
<div class="paragraph">
<p>Feedback may be provided on the <a href="https://discourse.openehr.org/c/specifications/task-planning-gdl" target="_blank" rel="noopener">process specifications forum</a>.</p>
</div>
<div class="paragraph">
<p>Issues may be raised on the <a href="https://specifications.openehr.org/components/PROC/open_issues" target="_blank" rel="noopener">specifications Problem Report tracker</a>.</p>
</div>
<div class="paragraph">
<p>To see changes made due to previously reported issues, see the <a href="https://specifications.openehr.org/components/PROC/history" target="_blank" rel="noopener">PROC component Change Request tracker</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>2. Introduction</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_openehr_process_and_planning_specifications"><a class="anchor" href="#_openehr_process_and_planning_specifications"></a>2.1. openEHR Process and Planning Specifications</h3>
<div class="paragraph">
<p>openEHR provides specifications for various models and languages to address the area of process and guideline-driven healthcare. These are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <em>plan</em> definition formalism: the <a href="https://specifications.openehr.org/releases/PROC/latest/task_planning.html" target="_blank" rel="noopener">openEHR Task Planning specification (TP)</a>;</p>
</li>
<li>
<p>A <em>guideline and rule</em> language: the <a href="https://specifications.openehr.org/releases/PROC/latest/decision_language.html" target="_blank" rel="noopener">openEHR Decision Language specification (DL)</a>;</p>
</li>
<li>
<p>An <em>expression language</em>, which forms the basis for writing expressions and rules, defined by the <a href="https://specifications.openehr.org/releases/LANG/latest/expression_language.html" target="_blank" rel="noopener">openEHR Expression Language (EL)</a>;</p>
</li>
<li>
<p>A <em>subject proxy service</em>, which forms the bridge between Plans and Guidelines as consumers of subject data, and data sources: the <a href="https://specifications.openehr.org/releases/SM/latest/openehr_platform.html#_subject_proxy_service" target="_blank" rel="noopener">openEHR Subject Proxy Service</a>.</p>
</li>
<li>
<p>An underlying <em>meta-model</em> formalising information models, expression language and decision constructs, defined by the <a href="https://specifications.openehr.org/releases/LANG/latest/bmm.html" target="_blank" rel="noopener">openEHR Basic Meta-Model</a>;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Together these enable the authoring of care pathways, guidelines, executable care plans and in-application active forms. There is also an existing guideline language, <a href="https://specifications.openehr.org/releases/CDS/latest/GDL2.html" target="_blank" rel="noopener">Guideline Definition Language 2 (GDL2)</a>, which defines an earlier self-standing guideline format, on which some self-standing guidelines solutions are built. In some circumstances, such systems may be equivalently implemented in the future using TP/DL/EL instead of GDL2.</p>
</div>
<div class="paragraph">
<p>Many of the formal semantics of the DLM formalism comes from experience with existing GDL2 deployments.</p>
</div>
</div>
<div class="sect2">
<h3 id="_prior_art"><a class="anchor" href="#_prior_art"></a>2.2. Prior Art</h3>
<div class="paragraph">
<p>The openEHR Task Planning specification is conceptually close to the YAWL language (Yet Another Workflow Language) (<a href="#Hofstede_van_der_Aalst2009">Hofstede&#44; van der Aalst&#44; Adams&#44; &amp; Russell&#44; 2010</a>), as well as to the OMG <a href="http://www.bpmn.org/" target="_blank" rel="noopener">BPMN</a> and <a href="https://www.omg.org/spec/CMMN/1.0/" target="_blank" rel="noopener">CMMN</a> standards, which support different flavours of workflow. Many ideas were adopted and/or adapted from YAWL, of which the only deficiencies are: being agnostic on rule language and data persistence (both of centra importance in healthcare IT), and no longer being actively maintained. The BPMN and CMMN standards have a weaker theoretical foundation, and were not originally conceived as being business analysis rather than executable formalisms; they also have only limited worker definition and allocation semantics, are weak on data persistence and have a rules expression formalism (<a href="https://www.omg.org/spec/DMN/" target="_blank" rel="noopener">DMN</a>) that is relatively under-developed or tested in healthcare.</p>
</div>
<div class="paragraph">
<p>openEHR GDL2 and the more recent Decision Language may be compared to other languages developed in the health arena for expressing medical logic and rules, including <a href="https://www.hl7.org/special/Committees/arden/index.cfm" target="_blank" rel="noopener">HL7 Arden Syntax</a>, Guideline Interchange Format (<a href="#GLIF">Ohno-Machado et al.&#44; 1998</a>), ProForma (<a href="#SuttonFox2003">Sutton &amp; Fox&#44; 2003</a>), as well as Decision Languages such as <a href="https://www.hl7.org/implement/standards/product_brief.cfm?product_id=5" target="_blank" rel="noopener">HL7 Gello</a> and <a href="https://www.omg.org/spec/DMN/" target="_blank" rel="noopener">OMG DMN</a>, and the HL7 <a href="https://cql.hl7.org" target="_blank" rel="noopener">Clinical Quality Language (CQL)</a>. These languages were not directly used, for various reasons including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>they do not support a clear distinction of <a href="#_subject_proxy_service">ontic versus epistemic subject variables</a>;</p>
</li>
<li>
<p>lack of an integrated plan / workflow formalism (all except DMN);</p>
</li>
<li>
<p>some are too procedural rather then declarative (Arden, GLIF);</p>
</li>
<li>
<p>current versions of some of these languages have been made specific to the HL7v3 RIM, a particular (and now obsolete) model of health information designed for message representation (GLIF 3.x, GELLO);</p>
</li>
<li>
<p>none of them support an integrated representation of the 'semantic stack' of process representation, decision logic, proxy data and data access;</p>
</li>
<li>
<p>the maintenance and support is unclear and/or limited.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Nevertheless, the design approach of Arden provided useful inspiration for the formalism described here, and indeed the Subject Proxy approach used in openEHR may be understood as a solution to the so-called 'curly braces problem' of Arden (<a href="#Samwald_arden_2012">Samwald&#44; Fehre&#44; de Bruin&#44; &amp; Adlassnig&#44; 2012</a>), i.e. the need to be able to bind rule logic to real-world variables. The ProForma language and underlying scientific analysis also has much to recommend it, and has been used as an important theoretical input to the specifications developed for openEHR. The <a href="https://cql.hl7.org" target="_blank" rel="noopener">HL7 CQL standard</a>, although lacking a workflow language, provided useful insights including on temporal logic operators (originally described in <a href="#Allen_1984">Allen (1984)</a>), data binding and general expression language design.</p>
</div>
</div>
<div class="sect2">
<h3 id="_relationship_to_standards"><a class="anchor" href="#_relationship_to_standards"></a>2.3. Relationship to Standards</h3>
<div class="paragraph">
<p>The following table indicates the approximate correspondences between the openEHR process specifications and various published standards.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 22.2222%;">
<col style="width: 22.2222%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">openEHR Formalism</th>
<th class="tableblock halign-left valign-top">HL7 standard</th>
<th class="tableblock halign-left valign-top">OMG standard</th>
<th class="tableblock halign-left valign-top">Other</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/releases/PROC/latest/task_planning.html" target="_blank" rel="noopener">Task Planning (TP)</a></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.bpmn.org/" target="_blank" rel="noopener">BPMN</a>, <a href="https://www.omg.org/spec/CMMN/1.0/" target="_blank" rel="noopener">CMMN</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://yawlfoundation.org/" target="_blank" rel="noopener">YAWL</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/releases/PROC/latest/decision_language.html" target="_blank" rel="noopener">Decision Language (DL)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://cql.hl7.org" target="_blank" rel="noopener">CQL</a>, FHIRpath?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.omg.org/spec/DMN/" target="_blank" rel="noopener">DMN</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.hl7.org/special/Committees/arden/index.cfm" target="_blank" rel="noopener">Arden</a>, <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC212780/" target="_blank" rel="noopener">ProForma</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/releases/LANG/latest/expression_language.html" target="_blank" rel="noopener">Expression Language (EL)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://cql.hl7.org" target="_blank" rel="noopener">CQL</a> ELM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.omg.org/spec/DMN/" target="_blank" rel="noopener">DMN</a> FEEL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(numerous)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/releases/SM/latest/openehr_platform.html#_subject_proxy_service" target="_blank" rel="noopener">Subject Proxy Service (SPS)</a></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(SDMN)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The OMG group of standards are starting (as of 2020) to find use in the healthcare arena under the banner <a href="http://bpm-plus.org/" target="_blank" rel="noopener">BPM+</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_theoretical_references"><a class="anchor" href="#_theoretical_references"></a>2.4. Theoretical References</h3>
<div class="paragraph">
<p>Numerous publications have appeared over the last 30 years on process automation, decision support and related subjects, including within healthcare. A small number of seminal publications have been particularly valuable in the development of the openEHR Process-related specifications, including <a href="#Rector_at_al_interfaces_2001">Rector Johnson Tu Wroe &amp; Rogers (2001)</a> and <a href="#Hofstede_van_der_Aalst2009">Hofstede van der Aalst Adams &amp; Russell (2010)</a>.</p>
</div>
<div class="paragraph">
<p>The first of these presented an often-cited diagram capturing the existence and challenges of representation between the various elements needed in computable guideline technology, shown below.</p>
</div>
<div id="rector_model_interfaces" class="imageblock text-center text-center">
<div class="content">
<img src="overview/diagrams/Rector_model_interfaces.svg" alt="Rector model interfaces">
</div>
<div class="title">Figure 1. Interfaces, models and corresponding repositories (<a href="#Rector_at_al_interfaces_2001">Rector&#44; Johnson&#44; Tu&#44; Wroe&#44; &amp; Rogers&#44; 2001</a>)</div>
</div>
<div class="paragraph">
<p>The authors enumerated many challenges directly relevant to the specifications described here, including the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the need for a coherent, symbolic means of referring to real-world entities from guidelines to patient data sources (originally: Need  for  inferential  abstractions; Ambiguity  of operational  meaning);</p>
</li>
<li>
<p>the need to abstract away differing concrete representations of subject data e.g. 'blood pressure' in back-end systems (originally: Differences  in  encapsulation  and  form  of  expression);</p>
</li>
<li>
<p>the need to be able to convert quantitative data values to ranges, e.g. blood pressure of 190/110 to 'elevated blood pressure';</p>
</li>
<li>
<p>computation of a subject value from underlying values via a formula, e.g. BMI from patient height and weight;</p>
</li>
<li>
<p>temporal predicates, e.g. 'rising blood pressure', 'being on steroids for 3 months' etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This paper presaged the notion of the 'vritual medical record', which itself may be seen as a precursor for the Subject Proxy concept used here.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_needs"><a class="anchor" href="#_needs"></a>3. Needs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section discusses the requirements for a category of computational system that supports the execution of distributed, team-based, and long-running care processes by professional workers and subjects.</p>
</div>
<div class="sect2">
<h3 id="_how_can_it_improve_clinical_care_process"><a class="anchor" href="#_how_can_it_improve_clinical_care_process"></a>3.1. How Can IT Improve Clinical Care Process?</h3>
<div class="paragraph">
<p>Naive approaches to the use of IT to support clinical care process generally assume that the benefits are obvious and automatic, and as a result, often fail to understand in what form computer support may be useful. An error common among IT professionals is to imagine that a clinical workflow system will itself <em>perform</em> the work currently performed by humans, i.e. to replace them. Even with the advent of AI-driven autonomous surgical robots and sophisticated decision support, this view is mistaken, since the process that executes within a workflow engine is not the same thing as the work undertaken by its various performers. Instead, an executable clinical process is better understood as a <em>plan and related decision logic</em> whose execution creates a sophisticated presencial helper within the cognitive space of each connected worker in the real world.</p>
</div>
<div class="paragraph">
<p>To understand the form a clinical planning system must take to be useful, we firstly need to understand how clinical work is performed in the real world.</p>
</div>
<div class="paragraph">
<p>The first aspect to consider is that a significant proportion of the activities of healthcare delivery are not clinical <em>per se</em>, but administrative and logistical, such as registering, booking, scheduling, transfers of care and so on. Nevertheless, the timing and conditions that govern appointments and transfers are unavoidably clinically driven, for example: the visits during routine ante-natal care; follow-up appointments post breast cancer treatment; determination of when to discharge a patient to long term nursing or home care. This tells us that there will be some representation of long-term planning in a clinical process support system, not just in administrative systems.</p>
</div>
<div class="paragraph">
<p>The second aspect to consider is that clinical professionals don&#8217;t need to be told how to do medicine. When the moment for performing clinical work arrives, with the exception of pure training situations, professionals already know what to do. What they may need is help with any of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>following care pathways and guidelines</strong> for complex conditions e.g. acute stroke, sepsis, complex childbirth; also guidelines that incorporate changing <em>policy</em> on the use of specific types of test whose costs and risks change over time (e.g. CT scan, MRI, certain drugs);</p>
</li>
<li>
<p><strong>clinical check lists</strong> for multi-step procedures, including surgery, to prevent busy or tired personnel forgetting common steps;</p>
</li>
<li>
<p><strong>reminders</strong> (that may be signed off) for critical actions in procedures not yet performed, particularly in team-oriented and busy environments (e.g. ED);</p>
</li>
<li>
<p><strong>decision support</strong> to determine appropriate treatments, medications from among numerous and/or changing possibilities;</p>
</li>
<li>
<p><strong>verification (signing off)</strong> of tasks performed for medico-legal reasons, process improvement, including <em>process mining</em> (see below).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In general, the above capabilities address three human fallibilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>limited capacity to <strong>deal with complexity</strong> unaided, often denoted as <a href="https://en.wikipedia.org/wiki/The_Magical_Number_Seven,_Plus_or_Minus_Two" target="_blank" rel="noopener">the '7±2' problem</a>, which refers to the limited number of variables that the majority of human beings can keep in mind at one time;</p>
</li>
<li>
<p>the inability to <strong>keep up with change</strong> (new medications, research etc); and</p>
</li>
<li>
<p><strong>forgetting routine steps due to fatigue</strong>, rushing or an unexpected change of personnel in the middle of a procedure.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Automated support for the above would significantly aid the short-term, single clinician/patient situation, but much clinical care today is team-based, and also unfolds over a longer time than a single work shift or day. Therefore another important kind of help is needed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>coordination</strong> of:</p>
<div class="ulist">
<ul>
<li>
<p>team members across departments (via e.g. plan-generated notifications); e.g. acute stroke care;</p>
</li>
<li>
<p>workers undertaking care spanning shifts and personnel changes, e.g. multi-week chemotherapy administration;</p>
</li>
<li>
<p>longer term care, e.g. pregnancy, chronic disease monitoring.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>A further clinical need which process automation can potentially address is reduction of <strong>documentation burden</strong>, which with the advent of EMR and other Health IT systems has become a major issue in recent years. In most healthcare delivery environments, clinical documentation is not synchronised with the process of the care delivery, but fitted in when possible, often after the fact. This creates a mental load on physicians, as well as sometimes forcing them to choose between more detailed documentation and spending time with the patient.</p>
</div>
<div class="paragraph">
<p>Process automation could also address the <strong>disconnect between work and documenting</strong> by supporting <em>fine-grained, on-the-fly interaction with the EHR</em>, such that as clinical work proceeds, documentation is also being done incrementally. This approach has the effect that all workers involved in the execution of a plan create documentation on the fly, rather than the senior clinician having to do all the documentation. When the work is done, the EHR is up-to-date, or very close to it, allowing all the involved clinicians to move very quickly to the next patient(s).</p>
</div>
<div class="paragraph">
<p>A further category of requirement for clinical process automation is <strong>training</strong>. In this case, the steps of a procedure may be second nature to an experienced clinician but for a trainee nurse or surgeon to whom much is new, a clinical guideline system would potentially represent even the most basic steps (e.g. cannulation, central line insertion, surgery preparation) to the trainee. Since being 'experienced' is not a binary state, but a continuum over one&#8217;s professional life, some level of training support is likely to be useful for any professional of any level of knowledge, e.g. to learn a newly developed surgical method, or revise a procedure not performed for some time. Training support therefore needs to be a flexible capability to be turned on or off at multiple levels of expertise, by any type of professional role, also based on work context.</p>
</div>
<div class="paragraph">
<p>A final and not immediately obvious benefit of process automation is the ability to record with reasonably good fidelity the steps and decisions taken by workers in the course of each procedure or episode of care. The resulting event logs provide a rich resource for <em>process mining</em>, a relatively recent discipline described in <a href="#Van_der_Aalst_2016">van der Aalst (2016)</a>, that uses the history of worker actions to discover how processes actually execute in the real world, with the aim of analysis and improvement of the original executable plan definitions.</p>
</div>
<div class="paragraph">
<p>The sections below elaborate on some of these topics.</p>
</div>
</div>
<div class="sect2">
<h3 id="_implementing_best_practices"><a class="anchor" href="#_implementing_best_practices"></a>3.2. Implementing Best Practices</h3>
<div class="paragraph">
<p>Best practices in healthcare, especially for complex conditions and treatment pathways with co-morbidities, but also routine activities such as dialysis and angina diagnosis, are increasingly codified in the form of Care Pathways, Clinical Practice Guidelines (CPGs) and related artefacts published by professional colleges, universities, teaching hospitals, and national institutes. These artefacts are based on evidence-based and other kinds of research that have determined which specific approaches to care produce better and more repeatable outcomes for patients. They are usually published as PDF files or HTML websites containing a modicum of structural visualisation of decision pathways; they may contain hundreds of details to do with particular drugs, dosing, analyte levels, and investigational pathways.</p>
</div>
<div class="paragraph">
<p>One of the primary obstructions to the routine uptake of best practices publications is the inability to integrate them directly into the cognitive care environment of working clinicians. Their use relies on reading prior to care, and either memorisation or else use on a screen or in printed form at the point of care. Due to this basic difficulty, many guidelines are only used in a patchy way depending on individual clinician interest, spare time and psychological factors (<a href="#JCI_CPGs_2016">Hoesing &amp; International&#44; 2016</a>). Many of the major benefits are consequently not realised until they are incorporated into mainstream medical and nursing training, at which point they become the norm. The time lag for this to occur has been famously stated as being on average 17 years (<a href="#Morris_Wooding_Grant_2011">Morris&#44; Wooding&#44; &amp; Grant&#44; 2011</a>), and is thought to range from 10 to 25 years.</p>
</div>
<div class="paragraph">
<p>It has been recognised for some years that if best practice pathways and guidelines could be made computable in the form of plan and/or decision structures, they could be incorporated <em>directly into clinical applications in use at point of care</em>, greatly reducing the delay from research to use to potentially weeks or months rather than a decade or more via educational or manual dissemination routes.</p>
</div>
</div>
<div class="sect2">
<h3 id="_guideline_and_pathway_authoring_in_computable_form"><a class="anchor" href="#_guideline_and_pathway_authoring_in_computable_form"></a>3.3. Guideline and Pathway Authoring in Computable Form</h3>
<div class="paragraph">
<p>If formalisation of natural language guidelines can succeed, a new possibility of major importance appears: the potential for the primary authoring of pathways and guidelines to be undertaken via tools that create formal expressions directly. This opens up further possibilities such as clinical guideline simulation, testing, and formal verification, which could revolutionise the both the production as well as the translation to point of care of best practices.</p>
</div>
<div class="paragraph">
<p>The ability to express best practice guidelines in a computable form thus lies at the heart of the requirements for automation of care process. The various kinds of artefacts are described in detail in <a href="#_care_process_artefacts">Section 4</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_simulation_and_training"><a class="anchor" href="#_simulation_and_training"></a>3.4. Simulation and Training</h3>
<div class="paragraph">
<p>One of the benefits that clinical process automation can bring is the ability to execute plans in a simulation mode. This can be done for a number of reasons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>during development of a guideline or pathway, as a means of 'debugging' it;</p>
</li>
<li>
<p>for training purposes for new personnel;</p>
</li>
<li>
<p>for training for experience personnel on rarely used or changed procedures;</p>
</li>
<li>
<p>to test alternative approaches to team structure, improve efficiency etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Computer-aided simulation of surgical procedures is not new (e.g. haptic feedback robotic systems with augmented / virtual reality visualisation are used to train surgeons in brain procedures), but is uncommon for longer running and team-based procedures e.g. complex childbirth, sepsis etc. However, medical simulation teaching environments do exist in which process simulation could be established, e.g. {https://www.ohsu.edu/simulation/about}[Oregon Health Sciences University (OHSU) simulation center^].</p>
</div>
</div>
<div class="sect2">
<h3 id="_long_running_processes"><a class="anchor" href="#_long_running_processes"></a>3.5. Long-running Processes</h3>
<div class="paragraph">
<p>Orthogonal to the semantics of guidelines and pathways are the semantics of how automatable work plans relate to workers in the real world over time. A simple case is that when a plan is executed in an engine, worker(s) are attached by software applications or special devices, and detached at the completion or abandonment of the plan. This will work well enough for short running processes i.e. of minutes or some hours. Longer running processes are another question.</p>
</div>
<div class="paragraph">
<p>In general human workers are present for a <em>shift</em> or <em>work day</em> of a limited number of hours at a time, with a gap until the next appearance of the same worker. In healthcare, nursing and allied care professionals as well as house residents usually work on a shift basis, in which complete coverage of every 24 hour period is achieved over a series of shifts, while senior physicians and specialists are typically only present during 'normal working hours'. In the time domain of weeks and months, human workers go on holidays, leave job posts and clinics, and themselves die (being only human after all).</p>
</div>
<div class="paragraph">
<p>A similar kind of pattern, although usually with longer periods, applies to machines that function autonomously as workers (e.g. robotic surgery devices). This is because all machines need to be serviced and in the long term, obsoleted and replaced. Service patterns will be a combination of regular planned down-times and unplanned failures.</p>
</div>
<div class="paragraph">
<p>The general picture of worker <em>availability within a facility</em> is therefore one of repeating cycles of presence (shifts, work days, in-service periods) during normal at-work periods, punctuated by variable temporary absences for holidays, sickness, and downtime, as well as permanent absence. Worker <em>availability for a given subject at a given moment</em> is a subset of the overall availability within the facility, since any worker may be occupied with some subjects to the exclusion of others, including unplanned attendance (emergencies etc).</p>
</div>
<div class="paragraph">
<p>In contrast to this, the 'work to be done', whether a well-defined procedure (e.g. GP encounter, surgery) or open-ended care situation (diabetes, post-trauma therapy) will have its own natural temporal extension. This might fit inside a short period of a few minutes or a single shift or work day, i.e. a work <em>session</em>, during which the workers do not change. Anything longer will consist of a series of 'patches' in time during which the work of the plan is actively being performed - i.e. during encounters, therapy sessions, surgery, lab testing, image interpretation and so on.</p>
</div>
<div class="paragraph">
<p>A priori, healthcare systems, via the administrators, managers, and clinicians in each facility generally make concerted efforts to maintain continuity of care, e.g. by arranging of appointments to ensure that as far as possible, the patient sees the same care team members over time, and by personal efforts to ensure that each logical segment of care is completed in a coherent fashion (for example in antenatal care).</p>
</div>
<div class="paragraph">
<p>Nevertheless, a plan automation system cannot necessarily assume worker availability, or that it is guaranteed to cover the periods in time during which the patient needs attendance, although ICUs, surgical units etc would usually get close. An automatable plan representation will therefore need to explicitly incorporate the notion of <em>allocation and de-allocation</em> of workers to tasks (including in the middle of a task), as well as <em>hand-overs</em> between workers. This would imply for example, that a task within a plan cannot proceed until an appropriate worker had been allocated to it, which further implies that some basis for allocation may need to be specified. The YAWL language (<a href="#Hofstede_van_der_Aalst2009">Hofstede&#44; van der Aalst&#44; Adams&#44; &amp; Russell&#44; 2010</a>) for example supports various allocation strategies such as 'first available', 'most frequently used' and so on.</p>
</div>
</div>
<div class="sect2">
<h3 id="_cognitive_model"><a class="anchor" href="#_cognitive_model"></a>3.6. Cognitive Model</h3>
<div class="sect3">
<h4 id="_the_co_pilot_paradigm"><a class="anchor" href="#_the_co_pilot_paradigm"></a>3.6.1. The Co-pilot Paradigm</h4>
<div class="paragraph">
<p>Common to all of the categories of requirement described above is a general need that any planning / decision support system <em>augment</em> rather than replace the cognitive processing of workers, by providing judicious help when needed. In this view, the system acts like a co-pilot, and does not attempt to be the pilot. It may remind, notify, verify, answer questions and perform documentation, but always assumes that the clinical professionals are both the ultimate performers of the work as well as the ultimate deciders. The latter means that workers may at any time <em>override</em> system-proposed tasks or decisions. Similar to a car navigation system, a clinical co-pilot must absorb deviations from original plans and recompute the pathway at each new situation, as it occurs.</p>
</div>
<div class="paragraph">
<p>The co-pilot paradigm has direct consequences for formal representation of plans and decision-making, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the interaction between a worker and the guideline / decision support system might be very fine- or coarse-grained, i.e. the worker may ask the copilot for input frequently or infrequently;</p>
</li>
<li>
<p>a worker may treat computed inferences (i.e. rule results etc) as <em>recommendations</em> that may be overridden (usually with the ability to record justification); this implies a specific kind of interaction with a plan automation system unlike pure automatic computation (as would be used in an industrial process for example);</p>
</li>
<li>
<p>a worker may request the chain of <em>logical justification</em> of a particular rule result; this implies that rule execution must be done so that the execution trace is available for inspection.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_voice_based_hcis"><a class="anchor" href="#_voice_based_hcis"></a>3.6.2. Voice-based HCIs</h4>
<div class="paragraph">
<p>One kind of technology that is becoming routine is voice-based human/computer interaction (HCI). Voice technology has become a useful convenience for using mobile phones while driving or interacting with home audio-visual systems, where it is replacing the remote control. It is likely to become the principle means of HCI in many clinical situations, since it achieves two things difficult to achieve by other means:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>by replacing physical keyboard interaction with voice, it enables interaction with the system to occur in <em>parallel</em>, and therefore in real-time, with clinical work that typically already occupies the worker&#8217;s hands and eyes;</p>
</li>
<li>
<p>it largely removes the problem of maintaining the <em>sterile field</em> around a patient that would otherwise be jeapordised by multiple workers touching keyboards and touchscreens.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Voice control is also likely to be crucial to enabling a clinical process support system to operate as an intelligent co-pilot rather than an overbearing presence in the work environment, since it starts to emulate the normal conversational abilities of human workers, via which any principal worker may ask for help as needed, but also limit system intervention when it is not needed.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_activation_of_plans_guidelines_and_decision_support"><a class="anchor" href="#_activation_of_plans_guidelines_and_decision_support"></a>3.7. Activation of Plans, Guidelines and Decision Support</h3>
<div class="paragraph">
<p>One of the basic challenges that emerges as soon as computable decision support, guidelines or planning are introduced to the workplace is how the appropriate artefacts from among possible candidates are activated. There are at least three ways this can happen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>via static linking of CPGs, plans etc to specific applications and forms, which are launched intentionally by the worker for each kind of work, e.g. specific type of patient visit;</p>
</li>
<li>
<p>via rules that execute when a particular application runs, to try to identify appropriate plans to use;</p>
</li>
<li>
<p>via a rule evaluator running in the background that executes on various events, e.g. data being committed to the EHR (e.g. test results), device data values, or simply on a timed basis.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The first of these is likely to be used with more comprehensive pathways and guidelines, such as ante-natal care, that have their a dedicated application or form within another application. The second approach normally limits guidelines activated to candidates matched to the type of patient or condition of the application in question, and might offer choices to the user. The third approach is normally used to run decision support guidelines designed to generate alerts for patients with specific risks, and might range from medication recommendations for patients showing evidence of hypertension to alerts for notifiable infections, such as methicillin-resistant staphylococcus aureus (MRSA) and Covid-19.</p>
</div>
<div class="paragraph">
<p>Mechanisms based on Event-Condition-Action (ECA) rules such as <a href="https://cds-hooks.org" target="_blank" rel="noopener">CDS-hooks</a> are used to enable events in the clinical work environment to create requests to external CDS services and return recommendations. A well-known problem with injudicious launching of guidelines or rules is 'alert fatigue' due to numerous and/or incoherent alerts only weakly related to the patient. Uncontrolled alerting can adversely affect patient safety, since clinicians can easily miss the few important alerts that may occur.</p>
</div>
<div class="paragraph">
<p>Various requirements on computable representation of plans and guidelines follow from the above considerations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>care pathways, therapeutic guidelines and order sets need to include clinical <em>indications</em>, defined in terms of health conditions (e.g. having viral pneumonia), current medications or other evaluable criteria, which allow <em>matching</em> to subject state;</p>
</li>
<li>
<p>CDS (diagnostic) guidelines might include broad patient matching criteria (e.g. age, sex, being diabetic) rather than precise indications, and activation often relies only on the required input variables being available.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_integration_with_the_patient_health_record"><a class="anchor" href="#_integration_with_the_patient_health_record"></a>3.8. Integration with the Patient Health Record</h3>
<div class="paragraph">
<p>General-purpose workflow formalisms and products do not generally assume the presence of a system whose purpose is to record information (e.g. observations, decisions, orders, actions) undertaken for the subject, beyond some direct record of the plan execution itself. However many tasks in healthcare plans involve the review and/or capture of complex data sets specific to the task at hand, which would naturally be recorded in the patient record. In order to make clinical plans efficient for their users, the formal representation of tasks needs to account for precise, unambiguous data sets and detailed action descriptions. For example a task whose short description is 'administer Cyclophosphamide, day 1' will have a detailed description as shown in the highlighted row of the following table:</p>
</div>
<div id="cyclophosphamide_instruction" class="imageblock text-center text-center">
<div class="content">
<img src="overview/images/cyclophosphamide_instruction.png" alt="cyclophosphamide instruction">
</div>
<div class="title">Figure 2. Detailed task instruction</div>
</div>
<div class="paragraph">
<p>In an application, the dose will have been pre-computed based on patient body surface area. The administration description will usually be recorded in a structured way, e.g. <code>{medication=cyclophosphamide; dose=1mg; route=IV; timing=30 mins; method=with 0.9% NaCl, &#8230;&#8203;}</code>.</p>
</div>
<div class="paragraph">
<p>From a user perspective, if this information structure (in an appropriate unfilled template form) can be directly associated with the task within a plan in such a way as to enable easy filling in of the data and subsequent recording in the patient record, no further work is required to update the record at plan (or task) completion. Similar situations require display of specific data sets as part of performing a task. However, if patient record interactions cannot be tightly associated with tasks in a plan, plan automation may not significantly reduce clinician documentation burden, and may have limited value. Worse, if there is no ability to associate information retrieval and recording actions with their real world tasks, plan authors will be forced to create tasks within plans dedicated to these information system interactions. This will have the effect of greatly increasing the size of many plans while reducing their comprehensibility.</p>
</div>
<div class="paragraph">
<p>In an ideal realisation of healthcare process automation, the data sets would be standardised, and most likely part of the plan definition. However, for many practical reasons, data sets vary across environments, and a realistic approach to integrating data sets with plans needs to allow for both explicit declaration and anonymous referencing. The former may be used in environments that support detailed clinical data-set definitions (e.g. openEHR archetypes and templates, published HL7 FHIR profiles, Intermountain CEMs etc), whereas deployment in environments with mixed back-ends and legacy EMR systems will more likely require plan tasks to simply reference native EMR or other application UI forms.</p>
</div>
</div>
<div class="sect2">
<h3 id="_independence_of_reusable_guidelines_from_legacy_his_environments"><a class="anchor" href="#_independence_of_reusable_guidelines_from_legacy_his_environments"></a>3.9. Independence of Reusable Guidelines from Legacy HIS Environments</h3>
<div class="paragraph">
<p>One of the hardest problems to solve historically with respect to computable guidelines and pathways has been how to author them so as to reference needed external data about the subject, but to do so independent of any particular back-end system environment. The general situation is that the data items, which we term <em>subject variables</em>, needed by a plan or guideline are populated from numerous kinds of back-end systems and products, including EMR systems, disease registers, departmental systems, research systems and increasingly, real-time devices. Each of these have their own data models, terminologies and access methods. Although there are standards for accessing such systems including standards from HL7 (HL7v2, CDA, FHIR), IHE (XDS), OMG, and IEEE these are themselves used in different forms and 'profiles', and are not used on all systems, particularly smaller research or practitioner-specific systems. Additionally, which data interoperability standards are in use in particular places changes over time.</p>
</div>
<div class="paragraph">
<p>In order to ensure computable plans and guidelines are independent of the heterogeneity of both back-end systems and ever-changing data standards, an approach is needed such that subject variables are <em>declared symbolically</em> within the computable representation, and are mapped to local system environments in a separate location, such as a dedicated service.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_care_process_artefacts"><a class="anchor" href="#_care_process_artefacts"></a>4. Care Process Artefacts and their Formalisation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Various kinds of potentially formalisable artefact commonly used in healthcare are implied by the needs described earlier, including the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>care pathway</em>: evidence-based plan of care for a complex condition;</p>
</li>
<li>
<p><em>clinical practice guideline (CPG)</em>: evidence-based protocol for a specific clinical task;</p>
</li>
<li>
<p><em>order set</em>: 'template' set of combined orders for tests, medications etc relating to a condition;</p>
</li>
<li>
<p><em>care plan</em>: descriptive plan for individual patient care, typically either oriented to in-patient care or post-discharge nursing care.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These artefacts do not constitute the totality of requirements of formal care process models, because they generally do not take into account the cognitive aspect of their use in care delivery by human professionals. The final inferences, decisions and actions of the latter will often use pathways and guidelines as a major input but only in the 'copilot' sense described above.</p>
</div>
<div class="paragraph">
<p>Nevertheless, the formalisation of the semantics of these artefacts is a major part of the overall semantics of the languages described here. Accordingly, what these are considered to consist of within the openEHR process architecture, and how they interrelate is described below.</p>
</div>
<div class="sect2">
<h3 id="_best_practice_artefacts"><a class="anchor" href="#_best_practice_artefacts"></a>4.1. Best Practice Artefacts</h3>
<div class="sect3">
<h4 id="_clinical_practice_guidelines_cpgs"><a class="anchor" href="#_clinical_practice_guidelines_cpgs"></a>4.1.1. Clinical Practice Guidelines (CPGs)</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
in openEHR specifications, the term <em>guideline</em> is used as a synonym for 'clinical practice guideline'.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A commonly cited definition of a guideline is (emphasis added):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a systematically developed statement designed to assist health care professionals and patients make decisions about appropriate health care for <em>specific clinical circumstances</em> (<a href="https://www.cebm.ox.ac.uk/resources/ebm-tools/glossary" target="_blank" rel="noopener">Oxford Centre for Evidence-based Medicine</a>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A more recent version of this puts emphasis on the evidential basis:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Clinical guidelines are statements that include recommendations intended to optimize patient care that are informed by a systematic review of evidence and an assessment of the benefits and harms of alternative care options (<a href="#IOM_CPG_2011">Graham&#44; Mancher&#44; Wolman&#44; Greenfield&#44; &amp; eds&#44; 2011</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Guidelines are usually either:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>therapeutic</em>, i.e. oriented to describing a procedure e.g. intubation; medication dosing and administration; and management of a specific condition e.g. asthma, or;</p>
</li>
<li>
<p><em>diagnostic</em>, such as for diagnosing various forms of angina.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Many diagnostic guidelines are relatively simple scores based on a number of patient variables, whose aim is to stratify risk into categories corresponding to type of intervention. Examples of guidelines include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://en.wikipedia.org/wiki/CHA2DS2-VASc_score" target="_blank" rel="noopener">CHA2DS2–VASc stroke risk score</a>;</p>
</li>
<li>
<p><a href="https://www.nice.org.uk/guidance/CG126" target="_blank" rel="noopener">UK NICE Stable angina management guideline</a>;</p>
</li>
<li>
<p><a href="https://www.acep.org/globalassets/sites/acep/media/covid-19-main/acep_evidencecare_covid19severitytool.pdf" target="_blank" rel="noopener">American College of Emergency Physicians (ACEP) Covid19 Severity Classification tool</a>;</p>
</li>
<li>
<p>Australian Clinical Guidelines for the Diagnosis and Management of Atrial Fibrillation 2018 (<a href="#Afib_NHFA_CSANZ_2018">Brieger&#44; Amerena&#44; Bajorek&#44; &amp; others&#44; 2018</a>).</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_score_based_decision_support_guidelines"><a class="anchor" href="#_score_based_decision_support_guidelines"></a>4.1.1.1. Score-based Decision Support Guidelines</h5>
<div class="paragraph">
<p>A very common kind of clinical guideline takes the form of a <em>score</em>, and consists of the following logical parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>an <em>input variable</em> set;</p>
</li>
<li>
<p>one or more <em>score functions</em> of the input variables that generates a numeric value(s);</p>
</li>
<li>
<p>one or more <em>stratification</em> table(s) that convert score values to care classifications, e.g. 'refer to ICU' / 'monitor 24h' / 'send home'.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Although technically relatively simple, this kind of guideline can be very effective in changing clinical behaviour, primarily due to the fact that the score function and stratification table reflect the current evidence for the relevant condition. Such guidelines are usually executed in a single-shot fashion to generate recommendations for the clinician at the point of care. They are often visualised as a single form containing the input variables, the score and the resulting classification, with the input fields being populated from an EMR and/or manually fillable as required.</p>
</div>
<div class="paragraph">
<p>The <a href="https://specifications.openehr.org/releases/CDS/latest/GDL2.html" target="_blank" rel="noopener">openEHR GDL2 language</a> is used to represent this kind of guideline, and implementations typically show interactive forms such as the following.</p>
</div>
<div id="cha2ds2vasc_gdl_form" class="imageblock text-center text-center">
<div class="content">
<img src="overview/images/cha2ds2vasc.png" alt="cha2ds2vasc">
</div>
<div class="title">Figure 3. GDL2 CHA2DS2–VASc stroke risk score</div>
</div>
<div class="paragraph">
<p>Some hundreds of similar guidelines are available in the openEHR <a href="https://github.com/gdl-lang/common-clinical-models/blob/master/README.md" target="_blank" rel="noopener">GDL2 Clinical Models Repository</a>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_care_pathways"><a class="anchor" href="#_care_pathways"></a>4.1.2. Care Pathways</h4>
<div class="paragraph">
<p>The notion of care pathway, also known by names such as 'integrated care pathway' (ICP) and 'critical care pathway', has various definitions in healthcare, such as summarised by the <a href="http://e-p-a.org/care-pathways/" target="_blank" rel="noopener">European Pathway Association (E-P-A)</a> and many other authors and organisations. Based on these, we take a care pathway to be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a structured description of <em>complex care</em> based on evidence, oriented to managing a particular primary condition;</p>
</li>
<li>
<p>patient-centric (rather than institution- or procedure-centric) and therefore multi-disciplinary and cross-enterprise.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A care pathway is thus a higher-level entity aimed at achieving a <em>patient outcome</em>, whereas a guideline is aimed at performing a more specific professional task. Consequently, care pathways typically refer to one or more guidelines that describe in detail how to deal with specific situations within the management of the condition (<a href="#Schrijvers_et_al2012">Schrijvers van Hoorn &amp; Huiskes (2012)</a>, <a href="#Vanhaecht_et_al2007">van Haecht de Witte &amp; Sermeus (2007)</a>). Care pathway examples include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://pathways.nice.org.uk/pathways" target="_blank" rel="noopener">UK NICE Sepsis pathway</a>;</p>
</li>
<li>
<p><a href="https://www.cancer.org.au/assets/pdf/breast-cancer-optimal-cancer-care-pathway" target="_blank" rel="noopener">Cancer Council Australia Breast cancer pathway</a>;</p>
</li>
<li>
<p><a href="https://intermountainhealthcare.org/ckr-ext/Dcmnt?ncid=520500199" target="_blank" rel="noopener">Intermountain Healthcare Acute Stroke CPM</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_order_sets"><a class="anchor" href="#_order_sets"></a>4.1.3. Order Sets</h4>
<div class="paragraph">
<p>Within the above-described artefacts references to so-called <em>order sets</em> may exist. An order set is understood as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a set of orders for diagnostic tests and/or medications and/or other therapies that are used together to achieve a particular clinical goal, e.g. the drugs for a particular chemotherapy regimen are often modelled as an order set;</p>
</li>
<li>
<p>potentially a detailed plan for administration of the items in the order set, which may be a fully planned out schedule of single administrations on particular days and times;</p>
</li>
<li>
<p>descriptive meta-data, including authors, history, evidence base, etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In most EHR/EMR sytems, the first item corresponds to a set of 'orders' or 'prescriptions', while the second is a candidate for representation as a formalised plan.</p>
</div>
<div class="paragraph">
<p>In the openEHR process architecture, an order set is considered to be an artefact of the same general form as a CPG, oriented to closely related orderable activities. It is therefore treated as a specific sub-category of plan artefacts, whose initial actions consist of a <em>condition-specific set of orders</em> with associated descriptive information. Administration actions may follow, within the same plan. Similarly to a care pathway or CPG, an order set may need to be modified for use with a real patient due to interactions or contra-indications, and any administration plan provided (perhaps as a template) may need to be copied and adapted for use in a larger patient-specific plan. Following this analysis, the question of formal representation of order sets is assumed to be solved via the same plan representation described for care pathways and CPGs.</p>
</div>
</div>
<div class="sect3">
<h4 id="_representation_challenges"><a class="anchor" href="#_representation_challenges"></a>4.1.4. Representation Challenges</h4>
<div class="paragraph">
<p>Care pathways and guidelines are published based on studies performed on the available evidence base. This often occurs initially at a specific institution that is a recognised center of excellence for a condition (e.g. aortic dissection), or as the result of a wider research study focussed on a specific disease cohort (most rare diseases). Over time, successful guidelines and pathways find wider adoption and may migrate to a professional college or national institute for the long term. Regardless of the development history, there are a number of important issues that affect potential formalisation.</p>
</div>
<div class="paragraph">
<p>The first is the problem of <em>partial coverage</em>. There is  no guarantee that any particular condition will have a published care pathway or guidelines for all of its subordinate activities. Coverage is likely to be partial, or sometimes completely absent. Consequently, the definition of a pathway for a particular patient (type) may have to be undertaken locally by institutions and/or simply achieved by 'old school medicine'. This implies that some automatable patient plans will be developed manually rather than from any existing pathway template.</p>
</div>
<div class="paragraph">
<p>The second issue is the problem of <em>adaptation</em>, which can be divided into two sub-problems. The first is that each pathway or guideline is designed to address <em>one primary condition</em> (sepsis, ARDS, angina etc) and will not generally be applicable unmodified to a real patient, due to patient specifics including co-morbidities, phenotypic specificities, current medications and patient needs and preferences. We might term this as a <em>merge</em> problem since it is essentially a question of arriving at a safe pathway for an actual patient that accounts for all of the patient&#8217;s current conditions (and therefore multiple applicable care pathways), medications and phenotypic specifics. Secondly, local practice factors such as formulary, local protocols, type of care setting (community clinic/hospital versus tertiary care centre/teaching hospital), availability and cost of imaging, drugs for rare conditions etc, will often constrain and/or modify any standard pathways or guidelines. We can understand this as a <em>localisation</em> problem.</p>
</div>
<div class="paragraph">
<p>A third issue is the practical challenge of there being multiple guidelines and pathways <em>for the same purpose</em> (i.e. diagnostic or therapeutic pathway), published by different institutions, including in different countries. Such guidelines may have been arrived at via different methods, evidence bases and may have variable coverage of the condition or procedure. They may also be expressed at differing levels of detail. We can think of this as a <em>competition</em> problem. Generally, the competition problem will be solved organisationally, e.g. by the institutional clinical quality board / group making choices, or even synthesising 'best of breed' versions from the existing candidates for a given use.</p>
</div>
<div class="paragraph">
<p>Assuming that the competition problem is solved within the local context, the merge problem will still usually occur with the consequence that <em>more than one pathway may apply to a patient</em>, e.g. one for chronic care and one for an acute complaint. There may be conflicts between the pathways - commonly in medications recommendations - but also between the pathways and the other patient specificities. Well-written pathways and CPGs usually include obvious contra-indications for medications (e.g. being on anti-rejection medications post transplant conflicts with some chemotherapy drug classes), common phenotypic features (e.g. being female, being allergic to taxanes), and patient history (e.g. being pregnant). There is no guarantee that any given pathway or guideline covers all possible conflicts, hence manual <em>inspection, adjustment and customisation</em> is almost always required. Localisation factors often means further modifications or constraints.</p>
</div>
<div class="paragraph">
<p>There currently appears to be little science on adaptation of guidelines, which means there is no obvious candidate method that might lead to automated or computer-aided adaptation. However communities such as the <a href="https://g-i-n.net/" target="_blank" rel="noopener">Guidelines International Network</a> have working groups related to adaptation and localisation, which may lead to such methods in the future (<a href="#Kredo_et_al_2016">Kredo et al.&#44; 2016</a>).</p>
</div>
<div class="paragraph">
<p>For convenience, we term a care pathway- or guideline-like artefact for a specific patient, incorporating any necessary conflict resolution, merging and localisation, a <em>patient plan</em>.</p>
</div>
<div class="paragraph">
<p>With respect to the challenge of applying information technology to process-oriented care, key questions to do with published (natural language) pathways and guidelines are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the extent to which they are formally representable, including contra-indications and conflicts;</p>
</li>
<li>
<p>how conflict, merge and localisation is solved to produce an automatable patient plan.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_a_descriptive_model"><a class="anchor" href="#_a_descriptive_model"></a>4.1.5. A Descriptive Model</h4>
<div class="paragraph">
<p>We make a baseline assumption that guidelines and care pathways are essentially the same kind of entity in terms of structure, and are formalisable with the same model or language, with any differences (e.g. in goal or subject) handled by variable elements of the formalism. A survey of published pathways and guidelines shows that they consist of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>goal</em> (pathway) or <em>purpose</em> (guideline);</p>
</li>
<li>
<p><em>indications</em>, i.e. clinical pre-conditions for use;</p>
</li>
<li>
<p><em>plan</em>: structured natural language statements describing a plan, i.e. a struconsisting of <em>tasks</em> (also known as <em>activities</em>), <em>decisions</em> (understood as a special kind of task), and <em>wait conditions</em> (enabling tasks to be situated in time or to be ready when certain events occur). Tasks and decisions  may be sequential or concurrent, and which may relate to:</p>
<div class="ulist">
<ul>
<li>
<p>observations and assessments;</p>
</li>
<li>
<p>orders or order sets;</p>
</li>
<li>
<p>medication administration;</p>
</li>
</ul>
</div>
</li>
<li>
<p><em>classification rules</em> that convert a real-world value to a classification for the purpose of the guideline, e.g.:</p>
<div class="ulist">
<ul>
<li>
<p>SpO2 of 88% &#8594; 'critical' in a Covid19 assessment tool;</p>
</li>
<li>
<p>Systolic pressure &gt; 160 mm[Hg] &#8594; 'high', in a hypertension guideline;</p>
</li>
</ul>
</div>
</li>
<li>
<p><em>decision rules</em>, in the form of logical statements, flowcharts, and tables, defining the primary logic of the artefact, e.g. a risk classification for a patient based on N subject variables.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Formalising such a structure primarily involves finding sufficiently powerful language(s) for the plan and logic (i.e. rules) parts. Following the general principle of separation of concerns, we assume that the languages for plan representation and rules definition are likely to be distinct, and indeed that plan artefacts and rules/decision modules are preferably separate and related by reference. This enables decision logic to be developed governed independently of particular plans, and prevents bad practices such as clinically significant rules being hidden inside plan definitions (typically on decision nodes).</p>
</div>
<div class="paragraph">
<p>Assuming this can be achieved, the second challenge then requires support within tools such that formal patient-level plans could be adapted in a fine-grained from existing pathways and CPGs and/or developed <em>de novo</em> when needed.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_care_plans"><a class="anchor" href="#_care_plans"></a>4.2. Care Plans</h3>
<div class="paragraph">
<p>The care plan is a common artefact within clinical care, originating in nursing and relates to a specific patient rather than a condition. Definitions include <a href="http://www.rncentral.com/nursing-library/careplans/" target="_blank" rel="noopener">a nursing-oriented definition from RN-central</a> and one from the <a href="https://www.iso.org/standard/58102.html" target="_blank" rel="noopener">ISO Continuity of Care standard ('contsys')</a>. From these we synthesise the following definition:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>care plan</em> - a dynamic, personalised plan, relating to one or more specified health issues, that describes patient objectives and goals, defining diagnoses and steps for resolution and monitoring.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Historically, a care plan has been a <em>description</em> of intended care that may be followed by relevant staff e.g. home-visit nurses. A patient may have more than one care plan, and the contents of a care plan may be informed by one or more care pathways and/or CPGs, or might be 'standard local practice'. A care plan may even be <em>ad hoc</em> in the case of a patient type with no well-described models of care available.</p>
</div>
<div class="paragraph">
<p>Within the openEHR process architecture, a care plan is considered a structured artefact whose contents are consumed by human actors, rather than being a directly automatable entity. It is assumed to include items such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>identifier and purpose;</p>
</li>
<li>
<p>descriptive text;</p>
</li>
<li>
<p>potentially references to CPG(s) or care pathway(s) that apply, with any necessary modifications;</p>
</li>
<li>
<p>goals and targets;</p>
</li>
<li>
<p>relevant problems and diagnoses;</p>
</li>
<li>
<p>interventions: medication and other orders (and potentially order sets);</p>
</li>
<li>
<p>monitoring criteria / instructions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A care plan may be formalised in the sense that the referenced CPG(s) and/or care pathway are formalised as a personalised patient plan (per above).</p>
</div>
</div>
<div class="sect2">
<h3 id="_formalisation"><a class="anchor" href="#_formalisation"></a>4.3. Formalisation</h3>
<div class="sect3">
<h4 id="_conceptual_model_of_guidelines"><a class="anchor" href="#_conceptual_model_of_guidelines"></a>4.3.1. Conceptual Model of Guidelines</h4>
<div class="paragraph">
<p>In the description of guidelines above, two of the key candidates for formal representation are plans and rules. Over some decades, the use of formal languages specifically designed for representing computable CPGs, often known as <em>computer interpretable guidelines (CIGs)</em>, including Arden, Asbru, EON, PRO<em>forma</em> and others (summarised in <a href="#Sutton_taylor_earl_2006">Sutton Taylor &amp; Earle (2006)</a>) has shown that plans and rules indeed emerge as the two main components, and each consists of certain conceptual elements. Not all of these languages agree in all details, nor support all concepts equally well (temporal operators for example), however the common set of general features can be used to inform a conceptual basis and nomenclature for the formal elements of CIGs, which we take to be as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>plans</em> consisting of:</p>
<div class="ulist">
<ul>
<li>
<p><em>tasks</em>, also known as <em>activities</em>;</p>
</li>
<li>
<p><em>decisions</em>, understood as a special kind of task;</p>
</li>
<li>
<p><em>wait conditions</em>, enabling tasks to be situated in time or to become ready when certain <em>events</em> occur;</p>
</li>
</ul>
</div>
</li>
<li>
<p><em>logic modules</em> containing:</p>
<div class="ulist">
<ul>
<li>
<p><em>conditions</em>, i.e. simple Boolean-valued expressions referring to subject variables;</p>
</li>
<li>
<p><em>rules</em>, i.e. more complex computations generating results of any type (quantity, coded term, etc) codifying the main decision criteria described in a guideline;</p>
</li>
</ul>
</div>
</li>
<li>
<p><em>subject proxy</em>, consisting of the set of <em>subject variable</em> declarations relevant to the rest of the logic.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An architecture based on these precepts would of course have to solve the question of referencing from plans to logic modules and from both of those to the subject proxy variables, as well as the semantics of run-time loading, execution and much else. The above just establishes the basic conceptual vocabulary for such developments. The following diagram illustrates these conceptual elements.</p>
</div>
<div id="simple_plan_rule_structure" class="imageblock text-center text-center">
<div class="content">
<img src="overview/diagrams/simple_plan_rule_structure.svg" alt="simple plan rule structure">
</div>
<div class="title">Figure 4. Basic formalism concepts</div>
</div>
<div class="paragraph">
<p>Some simple distinctions are thus made, for example that a <em>decision</em> is a kind of <em>task</em> (or activity) undertaken by a cognitive agent, whereas a <em>rule</em> is an algorithm for computing the values on which basis decision pathways are taken.</p>
</div>
<div class="paragraph">
<p>One of the important assumptions made here is that all conditions, rules and other decision computations (e.g. Bayesian logic, calls to AI services) are <em>defined within logic modules, rather than being included within plans</em>, as is the common practice for example in the use of most workflow formalisms (BPEL, BPMN, etc). This is to ensure all computable criteria, no matter how trivial-seeming (e.g. the expression <code>systolic_blood_pressure &gt;= 160</code>) are represented and documented in one place, and in a form that may be understood and maintained by the domain experts and guideline authors.</p>
</div>
</div>
<div class="sect3">
<h4 id="_general_vision"><a class="anchor" href="#_general_vision"></a>4.3.2. General Vision</h4>
<div class="paragraph">
<p>The clinical artefacts described above may be classified as follows, for the purposes of potential computable representation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>automatable artefacts</em>: care pathways, guidelines, order set administration plans;</p>
</li>
<li>
<p><em>structured artefacts</em>: care plans.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Following the preceding section, automatable artefacts are assumed to consist of at least three kinds of element:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>descriptive</em>: structured description, identification etc;</p>
</li>
<li>
<p><em>plan</em>: a representation of tasks, events and decision points (also known as <em>workflow</em>);</p>
</li>
<li>
<p><em>decision logic</em>: subject variable declarations and rules.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>None of the above artefacts acts directly as an executable plan <em>for a specific subject</em> (i.e. patient). Care pathways and guidelines each relate to a single isolated condition or procedure, whereas the general situation for a real patient is multiple conditions plus phenotypic specificities (e.g. allergies) plus current situation (e.g. being pregnant) plus non-clinical elements (e.g. patient preferences, type of health plan cover etc). Adaptation and merging is in general unavoidable.</p>
</div>
<div class="paragraph">
<p>Although there is no commonly recognised term for an patient-specific CIG, we assume its existence and term such an artefact a <em>patient plan</em> for convenience, and make the assumption that for the purposes of formal representation it is a combination of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a care plan that describes the intended care approach (may be minimal in some circumstances, e.g. emergency);</p>
</li>
<li>
<p>a potentially executable pathway of the same <em>formal representation</em> as a care pathway or guideline, but whose content is adapted from relevant automatable CPGs and/or care pathways, where available.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Since a computable patient plan may originate from a full care pathway, such as for complex pregnancy, or a simple guideline, such as <a href="https://en.wikipedia.org/wiki/CHA2DS2-VASc_score" target="_blank" rel="noopener">CHA2DS2–VASc</a>, it may express any level of clinical detail.</p>
</div>
<div class="paragraph">
<p>The various clinical artefacts described above and related computational entities, along with their relationships, can be visualised as follows.</p>
</div>
<div id="care_mgt_artefact_relations" class="imageblock text-center text-center">
<div class="content">
<img src="overview/diagrams/artefact_relations.svg" alt="artefact relations">
</div>
<div class="title">Figure 5. Care management artefacts</div>
</div>
<div class="paragraph">
<p>In the diagram, the term computer-interpretable guideline (CIG) is used to denote any formal representation of plan and related decision logic that could be executed by an appropriate engine. A CIG can thus be used to represent both condition-specific guidelines, care pathways as well as a patient plan. For the latter, it is assumed that the executable representation of a care plan may be included, where one exists.</p>
</div>
<div class="paragraph">
<p>Entities shown with dotted lines are not assumed to exist in all real world clinical situations. That is, care may be being provided for a patient for which no published care pathway is available, and only limited published guidelines. This would imply no or limited availability of condition-specific executable plans for use in constructing an executable patient plan. Nevertheless, the latter could be constructed <em>de novo</em>, rather than by adaptation of library pathways or guidelines.</p>
</div>
</div>
<div class="sect3">
<h4 id="_separation_of_concerns"><a class="anchor" href="#_separation_of_concerns"></a>4.3.3. Separation of Concerns</h4>
<div class="paragraph">
<p>As implied by the analysis of <a href="#Rector_at_al_interfaces_2001">Rector Johnson Tu Wroe &amp; Rogers (2001)</a>, the formally represented pathways and guidelines shown on the right hand side of <a href="#care_mgt_artefact_relations">Figure 5</a> have important relationships with both terminologies and data sources such as the patient record. Some of the requirements described above - independence of guidelines from legacy HIS back-ends, and also the need for a high-level language of guideline authoring that enables 'smart' subject variables such as 'highest systolic pressure over previous 2 weeks' and 'oxygen saturation, no older than 1 hour', as well as functions of base variables, such as Body Mass Index (BMI, a function of height and weight), lead naturally to a greater separation of guidelines from information models of the back-end systems.</p>
</div>
<div class="paragraph">
<p>The general approach taken by the openEHR specifications is to treat smart subject variables as a first order concern termed here <em>data enrichment</em>. We also recognise a more contemporary view of patient record systems, devices and intermediate interoperability standards designed to retrieve data from such systems in a more homogenous way than in the original version of the Rector paper (from 2001). The conceptual view that results is shown below in a modified version of the original figure.</p>
</div>
<div id="rector_model_interfaces_openehr" class="imageblock text-center text-center">
<div class="content">
<img src="overview/diagrams/Rector_model_interfaces-openEHR.svg" alt="Rector model interfaces openEHR">
</div>
<div class="title">Figure 6. Models, interfaces and repositories with subject proxies, adapted from <a href="#Rector_at_al_interfaces_2001">Rector Johnson Tu Wroe &amp; Rogers (2001)</a></div>
</div>
<div class="paragraph">
<p>In the above, a <em>subject proxy</em> model is introduced that represents one or more subject variables, including basic measurable values (e.g. heart rate), functions of other values (e.g. BMI), and computed ranges (e.g. conversion of systolic pressure = 165 to 'very high' range), interval averages and so on. It is assumed that each guideline or pathway (or related collections) have their own specific set of subject variables. A subject proxy is therefore not a fixed global model like the older 'virtual medical record' notion, but instead a limited virtual view of the subject relevant to some guideline.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_deployment_paradigm"><a class="anchor" href="#_deployment_paradigm"></a>5. Deployment Paradigm</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_separation_of_worlds"><a class="anchor" href="#_separation_of_worlds"></a>5.1. Separation of Worlds</h3>
<div class="paragraph">
<p>As soon as the notion of planning is assumed, we enter the workflow space, and it becomes essential to describe the intended relationship of humans and machines in the work environment. This is due to the fact that any description of planned work acts as a set of instructions to actors intended to perform the tasks. Since the instructions (task plans) will be represented in the IT layer and the performing actors (generally human, although they may also be autonomous devices or software applications) exist in the real world, an account of the interaction between the computing environment and the real world is required.</p>
</div>
<div class="paragraph">
<p>Firstly, we distinguish the following entities in the work environment:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>computing environment</em>:</p>
<div class="ulist">
<ul>
<li>
<p><em>executable plan definition</em>: a reusable definition of work to be done, consisting of tasks, potentially standardised according to a guideline or protocol;</p>
</li>
<li>
<p><em>executable plan instance</em>: a run-time instance of a task plan, potentially with local variations, created for execution by an actor or actors;</p>
</li>
</ul>
</div>
</li>
<li>
<p><em>real world</em>:</p>
<div class="ulist">
<ul>
<li>
<p><em>performing actor</em>: an autonomous human, machine or software application that performs tasks in the real world as part of a procedure designed to achieve a goal;</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>In real-world environments, the actors are not passive recipients of commands from a computer application implementing a plan, but are instead active agents who normally work together to perform a job. Working together involves peer-to-peer communication, coherent sequencing of tasks and so on. A workflow application provides help by maintaining a representation of the plan, and a representation of its progress in execution. It is immediately apparent that the application&#8217;s idea of a given plan execution and the real world state of the same work are not identical, and in fact may be only approximately related. For example, the computable form of the plan might only include some of the tasks and actors at work in the real world. There are in fact two workflows executing: a virtual workflow and the real world one, and there is accordingly a challenge of <em>synchronisation</em> of the two.</p>
</div>
<div class="paragraph">
<p>There is also a question of the nature of the communication between the workflow application and the real world actors, which we can think of as consisting of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>commands</em>: signals from the plan system to a real world actor to do something;</p>
</li>
<li>
<p><em>notifications</em>: signals to and from the plan system and the real world actors on the status of work, e.g. 'new work item', 'item completed' etc;</p>
</li>
<li>
<p><em>data</em>: data collection from actors and presentation to actors from the system.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This view of the environment can be illustrated as follows.</p>
</div>
<div id="workflow_execution_paradigm" class="imageblock text-center text-center">
<div class="content">
<img src="overview/diagrams/workflow_execution_paradigm.svg" alt="workflow execution paradigm" width="55%">
</div>
<div class="title">Figure 7. Plan execution paradigm</div>
</div>
</div>
<div class="sect2">
<h3 id="_distributed_plans"><a class="anchor" href="#_distributed_plans"></a>5.2. Distributed Plans</h3>
<div class="paragraph">
<p>There is a potentially complicated relationship between IT environments in which computable plans execute and the work-places where the human actors are found. This is because 'systems' in a concrete sense are part of IT installations owned by organisations that may or may not be the employers of the workers, while plans may logically span more than one distinct work-place. For example a clinical plan for diagnosing and resolving angina may contain steps that are performed by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>an emergency department (part of a hospital);</p>
</li>
<li>
<p>a general practitioner (in a separate health clinic);</p>
</li>
<li>
<p>a cardiologist (within a hospital, possibly a different one to the original ED attendance);</p>
</li>
<li>
<p>a radiology department (usually within a hospital, possibly also different, for reasons of availability, machine type etc).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These various healthcare facilities almost certainly have their own IT systems within a managed environment and security boundary, with some possible sharing of systems among some facilities. Consequently, where the notional clinical plan executes in the real world doesn&#8217;t usually cleanly correspond to one IT system in which a plan engine can execute it.</p>
</div>
<div class="paragraph">
<p>On the other hand, in an ideal environment with regional patient-centric hosted services (shared EHR etc), accessible by all healthcare facilities the patient visits, the logical locus of a plan&#8217;s activities - the various HCFs taken together - correspond 1:1 with a location where the plan can be executed by an engine, i.e. the regional system.</p>
</div>
<div class="paragraph">
<p>The following figure illustrates different possible relationships between a logical plan definition whose work is performed by actors in different enterprises, and the location of plan engines where such a plan may logically be executed. The particular arrangement shown has one enterprise (on the left) with its own separate IT (typical for most hospitals today) and three other enterprises that share regional health IT services relevant to the patient record and plan execution (they probably have their own private IT for more mundane purposes as well of course). The plan is shown as having tasks that are to be performed at all four of the enterprises.</p>
</div>
<div id="distributed_plan_execution" class="imageblock text-center text-center">
<div class="content">
<img src="overview/diagrams/distributed_plan_execution.svg" alt="distributed plan execution" width="80%">
</div>
<div class="title">Figure 8. Distributed plan execution</div>
</div>
<div class="paragraph">
<p>The diagram implies a scheme in which the same plan might be executed in multiple places, presumably with synchronisation, however this is not posited as a requirement. The only hard requirement is that there is <em>some</em> means of enabling the various parts of a plan to execute in the various work-places required.</p>
</div>
<div class="paragraph">
<p>One of the challenges in such distributed work environments, which are the norm in healthcare, is the ownership, creation, maintenance and sharing of plan definitions that implicate workers across enterprises.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conceptual_architecture"><a class="anchor" href="#_conceptual_architecture"></a>6. Conceptual Architecture</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview"><a class="anchor" href="#_overview"></a>6.1. Overview</h3>
<div class="paragraph">
<p>Within <a href="#care_mgt_artefact_relations">Figure 5</a>, CIGs (computer-interpretable guidelines) are shown as the principal computable artefact of interest for the development of automatable clinical plans. This section describes the conceptual architecture of this artefact in some detail.</p>
</div>
<div class="paragraph">
<p>The primary formal elements of  (CIGs) are the <em>plan</em>, i.e. a structured representation of tasks to be performed including decision points, and the <em>decision logic</em>, whose rules provide values for decisions, as well as declarations of <em>subject variables</em>. These are respectively denoted Plan Definition (or just 'plan') and Decision Logic Module (DLM).</p>
</div>
<div class="paragraph">
<p>Plans are formally defined by the <a href="https://specifications.openehr.org/releases/PROC/latest/task_planning.html" target="_blank" rel="noopener">openEHR Task Planning model</a>, and visualised (including for authoring purposes) in <a href="https://specifications.openehr.org/releases/PROC/latest/tp_vml.html" target="_blank" rel="noopener">Task Plan Visual Modelling Language (TP-VML)</a>. DLMs are written in the <a href="https://specifications.openehr.org/releases/PROC/latest/decision_language.html" target="_blank" rel="noopener">openEHR Decision Language (DL)</a>, which is a high-level syntax.</p>
</div>
<div class="paragraph">
<p>Both of these artefacts contain references to subject variables, i.e. ontic (real-world) subject state, such as <em>date_of_birth</em>, <em>weight</em>, <em>systolic_BP</em> and so on. Some of these variables are unchanging in time (e.g. date of birth; sex) or nearly so (height, in adults; type 1 diabetic status), while others are time-varying and may need to be <em>tracked</em> over time. Tracking subject variables over time might entail near real-time (i.e. seconds, minutes) update from measuring devices or simply repeated querying for routine measurements over time from the patient record. A collection of subject variables relevant to plans and DLMs is termed a Subject Proxy, i.e. a proxy representation of a real world subject (such as a patient) for use by plans, DLMs and other applications.</p>
</div>
<div class="paragraph">
<p>In order to execute a plan and its related logic, a means of populating a subject proxy is therefore required. This is termed a Subject Proxy Service. Within such a service, bindings to particular source sytems (queries, API calls etc) are installed, which are denoted here Data Access Bindings (DABs). The following diagram illustrates these conceptual artefacts.</p>
</div>
<div id="conceptual_framework" class="imageblock text-center text-center">
<div class="content">
<img src="overview/diagrams/conceptual_model.svg" alt="conceptual model">
</div>
<div class="title">Figure 9. openEHR conceptual framework for care pathways and guidelines</div>
</div>
</div>
<div class="sect2">
<h3 id="_plans"><a class="anchor" href="#_plans"></a>6.2. Plans</h3>
<div class="paragraph">
<p>In the above, the top box (pink) illustrates a <em>plan definition</em>, used to express a structured set of tasks. In openEHR these are expressed as Work Plans, defined by the <a href="https://specifications.openehr.org/releases/PROC/latest/task_planning.html#_plan_structure" target="_blank" rel="noopener">openEHR Task Planning specification</a>. Work plans are used for various scenarios, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>long term management plans</em> unfolding over a time period in which personnel constantly change, and the plan is the main record of work done / to do;</p>
</li>
<li>
<p>highly detailed actions defined by <em>clinical pathways</em> for complex conditions such as sepsis, where the complexity level is beyond unaided cognitive capacity;</p>
</li>
<li>
<p><em>reminders and checklist</em> items for basic actions that are sometimes missed or forgotten due to busy workplace and fatigue;</p>
</li>
<li>
<p><em>actions requiring sign-off</em>;</p>
</li>
<li>
<p><em>coordination</em> of workers in a distributed team;</p>
</li>
<li>
<p>actions that result in <em>recording</em> something in the EHR;</p>
</li>
<li>
<p>actions of varying levels of granularity that are needed in a <em>training</em> mode.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A Work Plan is a complete plan with an associated goal and indications (i.e. clinical pre-conditions), and consists of one or more Task Plans, each being for one <em>performer</em>. The inner structure of a Task Plan consists of Task Groups, various kinds of Tasks (dispatchable and performable) and event wait states. The following illustrates a simplified Work Plan for acute stroke management.</p>
</div>
<div id="work_plan_structure" class="imageblock text-center text-center">
<div class="content">
<img src="overview/diagrams/work_plan_structure.svg" alt="work plan structure">
</div>
<div class="title">Figure 10. Work Plan general structure</div>
</div>
<div class="paragraph">
<p>Using this model, plans for any of the above situations can be defined by domain experts using dedicated graphical tools. Work Plans are <em>executed</em> by a <em>plan engine</em>, which connects with workers (generally human, although software agents and autonomous devices may also perform tasks) and acts as a co-pilot for each one, reminding them of tasks and relevant details according to the worker&#8217;s process. It also manages coordinating notifications and commits and retrieval to and from the EHR. In this way, it can convert disparate workers with weak communication into an integrated, coordinated team.</p>
</div>
<div class="paragraph">
<p>The Task Planning model supports various fine-grained mechanisms common in workflow languages, including: five types of task; a task life-cycle that supports completion, cancellation, and abandonment; repeat blocks; parallel and sequential task execution; AND, XOR and various kinds of OR join; wait states triggered by external, calendar-based and internal events; blocking and non-blocking execution threads; condition-gated exception task plans and ad hoc task insertion. Some of these features are visible in the following plan, which is for chemotherapy administration (<a href="https://specifications.openehr.org/releases/PROC/latest/process_examples.html#_multi_drug_chemotherapy" target="_blank" rel="noopener">full version</a>).</p>
</div>
<div id="RCHOPS21_simple" class="imageblock text-center text-center">
<div class="content">
<img src="overview/diagrams/RCHOPS21-simple.svg" alt="RCHOPS21 simple">
</div>
<div class="title">Figure 11. Work plan for RCHOPS chemotherapy administration</div>
</div>
<div class="paragraph">
<p>One of the key formal elements of a Work Plan is decision points (green nodes in the plan diagrams above), where plan branching occurs, based on <em>conditions</em> and <em>rules</em> that ultimately depend on <em>subject variables</em>. In the openEHR architecture, all such decisional logic is expressed in dedicated <em>Decision Logic Modules (DLMs)</em>, rather than within the plan. This ensures all decision conditions are treated as first order knowledge artefacts, rather than being hidden as (possibly duplicated) ad hoc expressions within the plan, where they are difficult to find and maintain.</p>
</div>
</div>
<div class="sect2">
<h3 id="_decision_logic_modules_dlms"><a class="anchor" href="#_decision_logic_modules_dlms"></a>6.3. Decision Logic Modules (DLMs)</h3>
<div class="paragraph">
<p>In the conceptual model, the box on the lower right (green) represents <em>decision logic modules</em> (DLMs), which express the rules, decision tables etc that encode the decision logic of plans and guidelines. DLMs are used to represent the simplest Boolean conditions such as <code>systolic_blood_pressure &gt;= 140 mm[Hg]</code> used in plans, as well as complex chained logic representing stand-alone guidelines, scores and other rule-based clinical entities. To do this, they must declare <em>subject variables</em> needed for computing the rules and/or needed by client Work Plans or other applications.</p>
</div>
<div class="paragraph">
<p>The openEHR <em>decision logic language</em> may be characterised as a function-oriented logic that typically represents deductive inferences, such as clinical classification of patients (including diagnosis), based on input variables representing known facts about the subject (i.e. patient). These include results obtained from real world observation, measurement, imaging etc, as well as previous confirmed diagnoses and records of previous procedures. Other kinds of reasoning may be used as well, including Bayesian and other statistical and Artificial Intelligence (AI). In the latter case, DLM functions make calls to appropriate specialised services.</p>
</div>
<div class="paragraph">
<p>DLMs are written in the <a href="https://specifications.openehr.org/releases/PROC/latest/decision_language.html" target="_blank" rel="noopener">openEHR Decision Language (DL)</a> consists of various formal elements, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>input variables</em>: declarations of subject-related variables that are referenced within the conditions and rules;</p>
</li>
<li>
<p><em>conditions</em>: Boolean-valued simple rules based directly on subject variables;</p>
</li>
<li>
<p><em>rules</em>: complex rules generating non-Boolean values;</p>
</li>
<li>
<p><em>rule-sets</em>: collections of rules that operate on a common set of input variables to generate a common set of output values; may be represented as 2-dimensional <em>decision tables</em>;</p>
</li>
<li>
<p><em>output variables</em>: intermediate rule results that may be inspected by calling components.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Conditions, rules, rule-sets and other inference-generating structures that may include them constitute fragments of knowledge that need to be able to be authored and change-managed independently from contexts that use them, rather than being directly written into (say) if/then/else logic chains as a programmer would typically do. This specification accordingly provides a representational form for such logic, along with mechanisms that connect them to data access services (e.g. EHR) and also enable them to be invoked by user contexts (e.g. workflow engines).</p>
</div>
<div class="paragraph">
<p>An extract from the DLM corresponding for the RCHOPS chemotherapy plan shown above is as follows (<a href="https://specifications.openehr.org/releases/PROC/latest/process_examples.html#_rchops21_decision_logic_module" target="_blank" rel="noopener">full version</a>)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>dlm RCHOPS21

language
    original_language = &lt;[ISO_639-1::en]&gt;

description
    original_author = &lt;
        ["name"] = &lt;"Dr Spock"&gt;
        ...
    &gt;
    details = &lt;
        ["en"] = &lt;
            purpose = &lt;"NHS CHOPS-21 chemotherapy guideline ...."&gt;
            ...
        &gt;
    &gt;

use
    BSA: Body_surface_area

preconditions
    has_lymphoma_diagnosis

reference
    rituximab_dose_per_m2: Quantity = 375mg
    ...
    cycle_period: Duration = 3w
    ...

input -- State

    has_lymphoma_diagnosis: Boolean

input -- Tracked state

    staging: Terminology_term «ann_arbor_staging»
        currency = 30 days
        time_window = tw_current_episode

    neutrophils: Quantity
        currency = 3d
        ranges =
            ----------------------------------
            [normal]:      |&gt;1 x 10^9/L|,
            [low]:         |0.5 - 1 x 10^9/L|,
            [very_low]:    |&lt;0.5 x 10^9/L|
            ----------------------------------
        ;

    ...

rules -- Conditions

    high_ipi:
        Result := ipi_risk ∈ {[ipi_high_risk], [ipi_intermediate_high_risk]}

rules -- Main

    |
    | patient fit to undertake regime
    |
    patient_fit:
        Result := not
            (platelets.in_range ([very_low]) or
             neutrophils.in_range ([very_low]))

    doxorubicin_dose: Quantity
        Result := doxorubicin_dose_per_m2 * BSA.bsa_m2
            * case bilirubin.range in
                ===================
                [high]:        0.5,
                [very_high]:   0.25,
                [crit_high]:   0.0
                ===================
            ;

    ...

    |
    | International Prognostic Index
    | ref: https:|en.wikipedia.org/wiki/International_Prognostic_Index
    |
    ipi_raw_score: Integer
        Result.add (
            ---------------------------------------------
            age &gt; 60                             ? 1 : 0,
            staging ∈ {[stage_III], [stage_IV]}  ? 1 : 0,
            ldh.in_range ([normal])              ? 1 : 0,
            ecog &gt; 1                             ? 1 : 0,
            extranodal_sites &gt; 1                 ? 1 : 0
            ---------------------------------------------
        )

    ipi_risk: Terminology_code
        Result :=
            case ipi_raw_score in
                =======================================
                |0..1|  : [ipi_low_risk],
                |2|     : [ipi_intermediate_low_risk],
                |3|     : [ipi_intermediate_high_risk],
                |4..5|  : [ipi_high_risk];
                =======================================
            ;

terminology
    term_definitions = &lt;
        ["en"] = &lt;
            ["paracetamol_dose"] = &lt;
                text = &lt;"paracetamol dose"&gt;
                description = &lt;"paracetamol base dose level per sq. m of BSA"&gt;
            &gt;
            ["chlorphenamine_dose"] = &lt;
                text = &lt;"chlorphenamine dose"&gt;
                description = &lt;"chlorphenamine base dose level per sq. m of BSA"&gt;
            &gt;
            ...
        &gt;
    &gt;</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_subject_proxy"><a class="anchor" href="#_subject_proxy"></a>6.4. Subject Proxy</h3>
<div class="paragraph">
<p>Plans and decision logic necessarily require a way of defining and expressing their <em>input variables</em>. This is not just a question of creating typed variables, but of their semantics. The 'variables' used in plan tasks (e.g. for display) and DLM rules represent an <em>ontic</em> view of the subject, that is, as close as possible to a true description of its state in reality. For example, a rule for inferring atrial fibrillation and other forms of arrhythmia may refer to the input variables <code><em>heart_rate</em></code> and <code><em>heart_rhythm</em></code>. The meaning of these variables is that they represent the real heart rate and rhythm of the patient, rather than being just any heart rate, e.g. from a measurement 3 years ago recorded within a particular EMR system. Similarly, a variable <code><em>is_type1_diabetic</em></code> represents a proposition about the patient in reality.</p>
</div>
<div class="paragraph">
<p>To make decision logic comprehensible to (and therefor authorable by) domain experts, subject variable names need to be close to the language of the domain, for example <code><em>is_type1_diabetic</em></code> and <code><em>has_family_history_of_breast_cancer</em></code> are things a clinical professional directly understands. Semantically, they tend to be highly precoordinated forms of more technical representations, e.g. <code>problem_list.contains (type = 73211009|diabetes mellitus|, status=confirmed)</code> which should of course be hidden in implementations.</p>
</div>
<div class="paragraph">
<p>Conceptually, the collection of subject variables of interest to a plan or DLM is a <em>subject proxy</em>, i.e. a (generally partial) proxy view of a subject in reality, such as a real patient. Accordingly, in <a href="#conceptual_framework">Figure 9</a>, two <em>subject proxies</em> are shown, attached respectively to the plan definition and the DLM, i.e. in the application execution context. These proxies maintain copies of variables needed by the executing plan and its logic modules. The proxies are connected to a Subject Proxy Service, which extracts data from back-end systems and other sources, and updates the proxies over time.</p>
</div>
</div>
<div class="sect2">
<h3 id="_subject_proxy_service"><a class="anchor" href="#_subject_proxy_service"></a>6.5. Subject Proxy Service</h3>
<div class="paragraph">
<p>Extraction of subject state from its sources is managed by a <a href="https://specifications.openehr.org/releases/SM/latest/openehr_platform.html#_subject_proxy_service_sps" target="_blank" rel="noopener">Subject Proxy service</a>. <em>Data Access Bindings (DAB)</em> are required within the service to extract data from specific data sources and repositories (i.e. via specific queries, APIs etc), such as patient health records, lab systems and monitoring devices. Where data is not available from these sources, users may be requested to provide it.</p>
</div>
<div class="paragraph">
<p>The Subject Proxy Service performs a number of jobs, which taken together, have the effect of 'lifting' data from the typically complex IT environment, and converting it to a clean representation of specific subject attributes relevant to specific applications, including CIGs and Decision Support. These jobs are described below.</p>
</div>
<div class="sect3">
<h4 id="_semantic_reframing_from_the_general_and_epistemic_to_the_ontic_and_use_specific"><a class="anchor" href="#_semantic_reframing_from_the_general_and_epistemic_to_the_ontic_and_use_specific"></a>6.5.1. Semantic Reframing: from the General and Epistemic to the Ontic and Use-specific</h4>
<div class="paragraph">
<p>The relationship between guidelines and data exhibits a number of semantic characteristics that lead to the concept of the Subject Proxy as an independent interfacing service.</p>
</div>
<div class="paragraph">
<p>In order to define a care pathway or guideline (possibly adapted into a patient-specific care plan), various subject subject variables and events are needed. Since guidelines are specific to purpose, the number of variables is typically low, and for many simpler guidelines, as few as three or four. Many guidelines need access to common variables such as 'sex', 'age', basic clinical classifiers such as 'is diabetic', 'is pregnant' and then a relatively small number of condition-specific variables representing patient state (e.g. 'neutrophils', 'ldl') and specific diagnoses (e.g. 'eclampsia', 'gestational hypertension'). A guideline of medium complexity, such as for RCHOPS (non-Hodgkins lymphoma) chemotherapy needs around 20 variables, and a complex guideline such as for sepsis might need 50 - 100.</p>
</div>
<div class="paragraph">
<p>These small numbers are in contrast to the total number of distinct types of data point that will be routinely recorded for an average subject over long periods and relating to all conditions, which is in the O(1k) range, or the number of such data points recorded for a population, e.g. all inpatients + outpatients of a large hospital, which is O(10k). The latter corresponds to the variety of data that a general EMR product would need to cope with. The 'data sets' for specific guidelines are thus small and well-defined in comparison to the data generally captured within a patient record over time, and thus candidates for encapsulation.</p>
</div>
<div class="paragraph">
<p>Data set size is not the only distinguishing characteristic of a computable guideline. Where variables such as 'systolic blood pressure', 'is diabetic' and so on are mentioned in guidelines, they are intended to refer to the real patient state or history, i.e. they are references to values representing <em>ontic</em> entities, independent of how they might be obtained or stored. This is in contrast with the view of data where it is captured in health records or documents, which is an <em>epistemic</em> one, i.e. the result of a knowledge capture activity. Consequently, a query into a departmental hospital system asking if patient 150009 is diabetic, indicates that the patient is diabetic in the case of a positive answer, but otherwise probably doesn&#8217;t indicate anything, since the full list of patient 150009&#8217;s problems is often not found in departmental systems.</p>
</div>
<div class="paragraph">
<p>A query into any particular epistemic resource, i.e. a particular database, health record system or document only indicates what is known about the subject <em>by that system</em>. A true picture of the patient state can be approximated by access to all available data stores (e.g. hospital and GP EMR systems), assuming some are of reasonable quality, and is further improved by access to real-time device data (e.g. monitors connected to the patient while in hospital, but also at home). The best approximation of the ontic situation of the patient will be from the sum of all such sources plus 'carers in the room' who can report events as they unfold (patient going into cardiac arrest), and the patient herself, who is sometimes the only reliable origin of certain facts.</p>
</div>
<div class="paragraph">
<p>This epistemic <em>coverage problem</em> indicates a need which may be addressed with the Subject Proxy, which is to act as a data 'concentrator', obtaining relevant data from all epistemic sources including live actors to obtain a usable approximation of true patient state. This is a practical thing to do at the guideline / plan level by virtue of the small sizes of the variable sets. The data concentrator function is described in more detail below.</p>
</div>
<div class="paragraph">
<p>Comprehensive coverage of all possible sources is not the only problem to solve in order to define variables for use in guidelines and plans. In formal terms, symbolic references appearing at different levels in the environment have different semantics. Within the EHR system S1 for example, a generic API call <code>has_diagnosis(pat_id, x)</code> has the meaning: 'indicates whether patient P is known to have diagnosis x, according to S1'. However, within a guideline related to pregnancy, a variable <code>is_diabetic</code> defined in a Subject Proxy is more convenient, and is intended to represent the true diabetic state (or not) of the patient. The Subject Proxy Service thus not only has the effect of data concentration in order to extract a true ontic picture of the subject, but it reifies technical data access calls into ontic variables, specific to the guideline. In some cases, such variables might have pre-coordinated names such as <code>previous_history_of_eclampsia</code>, combining a temporal region with a substantive state.</p>
</div>
</div>
<div class="sect3">
<h4 id="_manually_reported_and_missing_data"><a class="anchor" href="#_manually_reported_and_missing_data"></a>6.5.2. Manually Reported and Missing Data</h4>
<div class="paragraph">
<p>A Subject Proxy acts as a <em>data concentrator</em>, providing a single interface to all available sources of information about the subject. In a typical in-patient or live-encounter (e.g. GP visit) situation, these include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the EMR system providing the institutional patient record;</p>
</li>
<li>
<p>any shared (e.g. regional or national) EHR system providing e.g. summary and/or emergency data;</p>
</li>
<li>
<p>devices attached to the patient, e.g. vital signs, pulse oximeter etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In many cases, a variable required by an application, e.g. sufficiently recent patient weight, is not available from the EMR/EHR or from any other source. This is a common problem in all decision support environments, and the usual solution is that an application window is displayed to ask the clinician for the data directly. This may be entered (e.g. after weighing the patient or asking the patient for his last weight), saved into the EMR, and the original request retried. Traditionally, this data request 'loop' has been engineered into either the main EMR application or into the decision support component. It is however a general problem and can be conveniently solved in a generic way using the Subject Proxy.</p>
</div>
<div class="paragraph">
<p>Further, there are some subject state variables and particularly events that are only available 'live' from clinicians working with the patient, e.g. state of consciousness, occurrence of a post-heart surgery heart attack (requiring emergency cardiac shock and/or re-sternotomy), haemorrhage during childbirth etc. Such events can only be realistically asserted 'in the room' by a clinician, potentially via a voice interface.</p>
</div>
<div class="paragraph">
<p>Consequently, we can say that the following constitute two more routine data sources for a Subject Proxy:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>just-in-time UI capture of missing data;</p>
</li>
<li>
<p><em>manually-reported</em> events 'in the room'.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The effect of data concentration in the Subject Proxy is that the plan, decision support, and all other applications can rely on a single location to obtain patient state and events, even where the relevant underlying data are not (yet) available in source systems. Additionally, 'live' data obtained by such methods may be written to the relevant EMR and/or EHR by the Subject Proxy, removing the problem of other applications having to make ad hoc writes, following ad hoc data capture.</p>
</div>
</div>
<div class="sect3">
<h4 id="_type_conversion"><a class="anchor" href="#_type_conversion"></a>6.5.3. Type Conversion</h4>
<div class="paragraph">
<p>A natural consequence of obtaining data from multiple sources is that the data will be instances of different concrete models (e.g. HL7 messages, documents and FHIR resources; openEHR query results; proprietary EMR data etc). It is also the case that the requesting plan-based and decision-support applications can work effectively with a relatively stripped down system of data types and limited structures. The latter is due to the fact that although data tend to be captured in larger structures such as full blood panels, full vital signs data sets and so on, guidelines and plans tend to require only specific lab analytes (e.g. troponin for investigating possible heart attack) and vital signs, e.g. systolic blood pressure (no need for diastolic pressure, patient position or other details).</p>
</div>
<div class="paragraph">
<p>The consequence of this is that the type system required at the Subject Proxy level may be significantly simplified compared to the type systems and structures in which data are originally captured. The use of subject proxy variables as the interface for decision support and plan applications to back-end systems greatly simplifies the artifacts needed in the latter components.</p>
</div>
</div>
<div class="sect3">
<h4 id="_the_temporal_dimension_currency"><a class="anchor" href="#_the_temporal_dimension_currency"></a>6.5.4. The Temporal Dimension: Currency</h4>
<div class="paragraph">
<p>Another common problem traditionally handled by individual applications, including decision-support, is the <em>currency</em> of data, i.e. its 'recency'. Some variables such as body height are sufficiently current even when measured years earlier, while others such as oxygen saturation and heart rate need to be less than say 15 minutes old to be useful. To obtain valid values, applications often implement a scheme based on polling, automated server-side 'push' query execution, publish-subscribe or other mechanisms to obtain current data. None of this funcionality can really be avoided, but the Subject Proxy provides a single place to locate it, such that client applications simply access the SPO variables they need, and the SPO takes care of the update problem.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_architectural_use_cases"><a class="anchor" href="#_architectural_use_cases"></a>7. Architectural Use-cases</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The formal artefacts described above may be deployed in different ways to achieve various goals.</p>
</div>
<div class="sect2">
<h3 id="_plan_oriented_systems"><a class="anchor" href="#_plan_oriented_systems"></a>7.1. Plan-oriented Systems</h3>
<div class="paragraph">
<p>Many applications are designed around plans as the organising principle, such as complex medication administration (e.g. multiple cycles of multi-drug chemotherapy), team-based acute stroke response, ante-natal care and chronic condition management. In such cases, the system or application architecture will typically resemble the following.</p>
</div>
<div id="plan_architecture" class="imageblock text-center text-center">
<div class="content">
<img src="overview/diagrams/plan-architecture.svg" alt="plan architecture">
</div>
<div class="title">Figure 12. Example Plan-based system architecture</div>
</div>
</div>
<div class="sect2">
<h3 id="_guidelines_and_decision_support"><a class="anchor" href="#_guidelines_and_decision_support"></a>7.2. Guidelines and Decision Support</h3>
<div class="paragraph">
<p>Another major category of clinical process IT is guideline-based decision support. In this case, DLMs are used to express potentially complex guidelines to evaluate e.g. risk of acute events (heart attack, stroke etc). They are usually evaluated in an event-based manner, being triggered by e.g. commits to the EHR, or by a family practitioner opening the patient record for a particular patient.</p>
</div>
<div id="gdl_architecture" class="imageblock text-center text-center">
<div class="content">
<img src="overview/diagrams/gdl-architecture.svg" alt="gdl architecture">
</div>
<div class="title">Figure 13. Example Guideline-based system architecture</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references"><a class="anchor" href="#_references"></a>References</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="Allen_1984"></a>Allen, J. (1984). Towards a general theory of actions and time. <em>Artificial Intelligence</em>, <em>23</em>(2), 123–154.</p>
</div>
<div class="paragraph">
<p><a id="Afib_NHFA_CSANZ_2018"></a>Brieger, D., Amerena, J., Bajorek, B., &amp; others. (2018). NHFA CSANZ Atrial Fibrillation Guideline Working Group: Australian Clinical Guidelines for the Diagnosis and Management of Atrial Fibrillation. <em>Heart, Lung and Circulation</em>, <em>27</em>(10), 1209–1266. Retrieved from <a href="https://www.heartlungcirc.org/article/S1443-9506(18)31778-5/pdf" class="bare">https://www.heartlungcirc.org/article/S1443-9506(18)31778-5/pdf</a></p>
</div>
<div class="paragraph">
<p><a id="IOM_CPG_2011"></a>Graham, R., Mancher, M., Wolman, D. M., Greenfield, S., &amp; (eds), E. S. (2011). <em>Clinical Practice Guidelines We Can Trust (Institute of Medicine)</em>. Washington, DC: The National Academies Press.</p>
</div>
<div class="paragraph">
<p><a id="JCI_CPGs_2016"></a>Hoesing, H., &amp; International, J. C. (2016). Clinical Practice Guidelines: Closing the Gap Between Theory and Practice. Retrieved from <a href="https://www.elsevier.com/__data/assets/pdf_file/0007/190177/JCI-Whitepaper_cpgs-closing-the-gap.pdf" class="bare">https://www.elsevier.com/__data/assets/pdf_file/0007/190177/JCI-Whitepaper_cpgs-closing-the-gap.pdf</a></p>
</div>
<div class="paragraph">
<p><a id="Hofstede_van_der_Aalst2009"></a>Hofstede, A. H. M. T., Aalst, W. M. P. van der, Adams, M., &amp; Russell, N. (2010). <em>Modern Business Process Automation: YAWL and its Support Environment</em>. Springer-Verlag.</p>
</div>
<div class="paragraph">
<p><a id="Kredo_et_al_2016"></a>Kredo, T., Bernhardsson, S., Machingaidze, S., Young, T., Louw, Q., Ochodo, E., &amp; Grimmer, K. (2016). Guide to clinical practice guidelines: the current state of play. <em>International Journal for Quality in Health Care</em>, <em>28</em>(1), 122–128. Retrieved from <a href="https://doi.org/10.1093/intqhc/mzv115" class="bare">https://doi.org/10.1093/intqhc/mzv115</a></p>
</div>
<div class="paragraph">
<p><a id="Morris_Wooding_Grant_2011"></a>Morris, Z. S., Wooding, S., &amp; Grant, J. (2011). The answer is 17 years, what is the question: understanding time lags in translational research. <em>Journal of the Royal Society of Medicine</em>, <em>104</em>(12), 510–520. Retrieved from <a href="https://doi.org/10.1258/jrsm.2011.110180" class="bare">https://doi.org/10.1258/jrsm.2011.110180</a></p>
</div>
<div class="paragraph">
<p><a id="GLIF"></a>Ohno-Machado, L., Gennari, J. H., Murphy, S. N., Jain, N. L., Tu, S. W., Oliver, D. E., Pattison-Gordon, E., et al. (1998). The GuideLine Interchange Format - A Model for Representing Guidelines. <em>J Am Med Inform Assoc</em>, 357–372.</p>
</div>
<div class="paragraph">
<p><a id="Rector_at_al_interfaces_2001"></a>Rector, A., Johnson, P., Tu, S., Wroe, C., &amp; Rogers, J. (2001). Interface of Inference Models with Concept and Medical Record Models (pp. 314–323). Retrieved from <a href="https://www.researchgate.net/publication/221450288_Interface_of_Inference_Models_with_Concept_and_Medical_Record_Models" class="bare">https://www.researchgate.net/publication/221450288_Interface_of_Inference_Models_with_Concept_and_Medical_Record_Models</a></p>
</div>
<div class="paragraph">
<p><a id="Samwald_arden_2012"></a>Samwald, M., Fehre, K., Bruin, J. de, &amp; Adlassnig, K.-P. (2012). The Arden Syntax standard for clinical decision support: Experiences and directions. <em>Journal of Biomedical Informatics</em>, <em>45</em>, 711–718. Retrieved from <a href="https://www.sciencedirect.com/science/article/pii/S1532046412000226" class="bare">https://www.sciencedirect.com/science/article/pii/S1532046412000226</a></p>
</div>
<div class="paragraph">
<p><a id="Schrijvers_et_al2012"></a>Schrijvers, G., Hoorn, A. van, &amp; Huiskes, N. (2012). The care pathway: concepts and theories: an introduction. In <em>International journal of integrated care</em>.</p>
</div>
<div class="paragraph">
<p><a id="SuttonFox2003"></a>Sutton, D. R., &amp; Fox, J. (2003). The syntax and semantics of the PROforma guideline modeling language. <em>J Am Med Inform Assoc.</em>, <em>10(5)</em>, 433–443. Retrieved from <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC212780/" class="bare">https://www.ncbi.nlm.nih.gov/pmc/articles/PMC212780/</a></p>
</div>
<div class="paragraph">
<p><a id="Sutton_taylor_earl_2006"></a>Sutton, D. R., Taylor, P., &amp; Earle, K. (2006). Evaluation of PROforma as a language for implementing medical guidelines in a practical context. <em>BMC Medical Informatics and Decision Making</em>, <em>6</em>. Retrieved from <a href="https://bmcmedinformdecismak.biomedcentral.com/articles/10.1186/1472-6947-6-20" class="bare">https://bmcmedinformdecismak.biomedcentral.com/articles/10.1186/1472-6947-6-20</a></p>
</div>
<div class="paragraph">
<p><a id="Van_der_Aalst_2016"></a>Aalst, W. M. P. van der. (2016). <em>Process Mining: Data Science in Action</em>. Springer-Verlag.</p>
</div>
<div class="paragraph">
<p><a id="Vanhaecht_et_al2007"></a>Haecht, K. van, Witte, K. de, &amp; Sermeus, W. (2007). <em>The impact of clinical pathways on the organisation of care processes</em> (PhD thesis). Belgium: KU Leuven, Leuven.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-01-30 13:41:08 UTC
</div>
</div>
</body>
</html>